  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateEquipment (20090726084716)
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "equipment" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "code" varchar(255), "description" varchar(255), "note" text, "maintenance_periodicity_in_months" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090726084716')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("equipment")[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-07-26 10:47:47) [GET]

ActionController::RoutingError (No route matches "/equipments" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-07-26 10:49:07) [GET]

NameError (uninitialized constant EquipmentsController):
  

Rendered rescues/_trace (76.5ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2009-07-26 10:49:38) [GET]

ActionController::RoutingError (No route matches "/equipments" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing EquipmentController#show (for 127.0.0.1 at 2009-07-26 10:49:40) [GET]

ActiveRecord::RecordNotFound (Couldn't find Equipment without an ID):
  app/controllers/equipment_controller.rb:7:in `show'

Rendered rescues/_trace (26.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)


Processing EquipmentController#index (for 127.0.0.1 at 2009-07-26 10:49:48) [GET]
  [4;36;1mEquipment Load (0.4ms)[0m   [0;1mSELECT * FROM "equipment" [0m
Rendering template within layouts/application
Rendering equipment/index
Completed in 92ms (View: 88, DB: 0) | 200 OK [http://localhost/equipment]


Processing ApplicationController#new (for 127.0.0.1 at 2009-07-26 10:49:56) [GET]

NameError (uninitialized constant EquipmentsController):
  

Rendered rescues/_trace (87.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing EquipmentsController#new (for 127.0.0.1 at 2009-07-26 10:50:33) [GET]

ActionView::MissingTemplate (Missing template equipments/new.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)


Processing EquipmentsController#new (for 127.0.0.1 at 2009-07-26 10:50:42) [GET]
Rendering template within layouts/application
Rendering equipments/new

ActionView::TemplateError (equipment_url failed to generate from {:action=>"show", :controller=>"equipments"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["equipments", :id] - are they all satisfied?) on line #2 of app/views/equipments/_form.html.erb:
1: <%= error_messages_for :equipment %>
2: <% form_for @equipment do |f| %>
3:   <p>
4:     <%= f.label :name %><br />
5:     <%= f.text_field :name %>

    (eval):16:in `equipment_path'
    app/views/equipments/_form.html.erb:2
    app/views/equipments/new.html.erb:3

Rendered rescues/_trace (45.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing EquipmentsController#index (for 127.0.0.1 at 2009-07-26 10:50:45) [GET]
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT * FROM "equipment" [0m
Rendering template within layouts/application
Rendering equipments/index
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/equipments]


Processing EquipmentsController#new (for 127.0.0.1 at 2009-07-26 10:50:48) [GET]
Rendering template within layouts/application
Rendering equipments/new

ActionView::TemplateError (equipment_url failed to generate from {:action=>"show", :controller=>"equipments"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["equipments", :id] - are they all satisfied?) on line #2 of app/views/equipments/_form.html.erb:
1: <%= error_messages_for :equipment %>
2: <% form_for @equipment do |f| %>
3:   <p>
4:     <%= f.label :name %><br />
5:     <%= f.text_field :name %>

    (eval):16:in `equipment_path'
    app/views/equipments/_form.html.erb:2
    app/views/equipments/new.html.erb:3

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing EquipmentsController#new (for 127.0.0.1 at 2009-07-26 10:51:07) [GET]
Rendering template within layouts/application
Rendering equipments/new

ActionView::TemplateError (equipment_url failed to generate from {:action=>"show", :controller=>"equipments"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["equipments", :id] - are they all satisfied?) on line #2 of app/views/equipments/_form.html.erb:
1: <%= error_messages_for :equipment %>
2: <% form_for @equipment do |f| %>
3:   <p>
4:     <%= f.label :name %><br />
5:     <%= f.text_field :name %>

    (eval):16:in `equipment_path'
    app/views/equipments/_form.html.erb:2
    app/views/equipments/new.html.erb:3

Rendered rescues/_trace (114.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing EquipmentsController#new (for 127.0.0.1 at 2009-07-26 10:51:09) [GET]
Rendering template within layouts/application
Rendering equipments/new

ActionView::TemplateError (equipment_url failed to generate from {:action=>"show", :controller=>"equipments"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["equipments", :id] - are they all satisfied?) on line #2 of app/views/equipments/_form.html.erb:
1: <%= error_messages_for :equipment %>
2: <% form_for @equipment do |f| %>
3:   <p>
4:     <%= f.label :name %><br />
5:     <%= f.text_field :name %>

    (eval):16:in `equipment_path'
    app/views/equipments/_form.html.erb:2
    app/views/equipments/new.html.erb:3

Rendered rescues/_trace (46.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing EquipmentsController#new (for 127.0.0.1 at 2009-07-26 10:51:27) [GET]
Rendering template within layouts/application
Rendering equipments/new

ActionView::TemplateError (equipment_url failed to generate from {:action=>"show", :controller=>"equipments"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["equipments", :id] - are they all satisfied?) on line #2 of app/views/equipments/_form.html.erb:
1: <%= error_messages_for :equipment %>
2: <% form_for @equipment, :url => equipment_url do |f| %>
3:   <p>
4:     <%= f.label :name %><br />
5:     <%= f.text_field :name %>

    (eval):16:in `equipment_url'
    app/views/equipments/_form.html.erb:2
    app/views/equipments/new.html.erb:3

Rendered rescues/_trace (110.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing EquipmentsController#new (for 127.0.0.1 at 2009-07-26 10:51:50) [GET]
Rendering template within layouts/application
Rendering equipments/new

ActionView::TemplateError (equipment_url failed to generate from {:action=>"show", :controller=>"equipments"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["equipments", :id] - are they all satisfied?) on line #2 of app/views/equipments/_form.html.erb:
1: <%= error_messages_for :equipment %>
2: <% form_for @equipment do |f| %>
3:   <p>
4:     <%= f.label :name %><br />
5:     <%= f.text_field :name %>

    (eval):16:in `equipment_path'
    app/views/equipments/_form.html.erb:2
    app/views/equipments/new.html.erb:3

Rendered rescues/_trace (47.7ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing EquipmentsController#new (for 127.0.0.1 at 2009-07-26 10:51:54) [GET]
Rendering template within layouts/application
Rendering equipments/new

ActionView::TemplateError (equipment_url failed to generate from {:action=>"show", :controller=>"equipments"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["equipments", :id] - are they all satisfied?) on line #2 of app/views/equipments/_form.html.erb:
1: <%= error_messages_for :equipment %>
2: <% form_for @equipment do |f| %>
3:   <p>
4:     <%= f.label :name %><br />
5:     <%= f.text_field :name %>

    (eval):16:in `equipment_path'
    app/views/equipments/_form.html.erb:2
    app/views/equipments/new.html.erb:3

Rendered rescues/_trace (110.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing EquipmentsController#new (for 127.0.0.1 at 2009-07-26 10:52:14) [GET]
Rendering template within layouts/application
Rendering equipments/new
Rendered equipments/_form (4.3ms)
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/equipments/new]


Processing EquipmentsController#create (for 127.0.0.1 at 2009-07-26 10:53:34) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"oUtMbS/ztE/ndfCeU3oQ8ErJyF7yLRReHpVVqE2E6pY=", "equipment"=>{"name"=>"Caldaia NetFire", "code"=>"01", "maintenance_periodicity_in_months"=>"12", "description"=>"Caldaia 5000 litri", "note"=>"Modello 2007"}}
  [4;36;1mEquipment Create (0.7ms)[0m   [0;1mINSERT INTO "equipment" ("name", "updated_at", "code", "maintenance_periodicity_in_months", "description", "note", "created_at") VALUES('Caldaia NetFire', '2009-07-26 08:53:34', '01', 12, 'Caldaia 5000 litri', 'Modello 2007', '2009-07-26 08:53:34')[0m
Redirected to http://localhost:3000/equipments/1
Completed in 71ms (DB: 1) | 302 Found [http://localhost/equipments]


Processing EquipmentsController#show (for 127.0.0.1 at 2009-07-26 10:53:35) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
Rendering template within layouts/application
Rendering equipments/show
Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/equipments/1]


Processing EquipmentsController#show (for 127.0.0.1 at 2009-07-26 10:53:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mEquipment Load (0.2ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
Rendering template within layouts/application
Rendering equipments/show
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/equipments/1]


Processing EquipmentsController#show (for 127.0.0.1 at 2009-07-26 10:53:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
Rendering template within layouts/application
Rendering equipments/show
Completed in 12ms (View: 4, DB: 0) | 200 OK [http://localhost/equipments/1]


Processing EquipmentsController#show (for 127.0.0.1 at 2009-07-26 10:53:45) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mEquipment Load (0.2ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
Rendering template within layouts/application
Rendering equipments/show
Completed in 10ms (View: 6, DB: 0) | 200 OK [http://localhost/equipments/1]


Processing EquipmentsController#index (for 127.0.0.1 at 2009-07-26 10:53:46) [GET]
  [4;35;1mEquipment Load (0.5ms)[0m   [0mSELECT * FROM "equipment" [0m
Rendering template within layouts/application
Rendering equipments/index
Completed in 73ms (View: 7, DB: 1) | 200 OK [http://localhost/equipments]
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateEquipment (20090726084716)
Migrating to CreateUsers (20090726085627)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "role" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090726085627')[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("equipment")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m


Processing UsersController#index (for 127.0.0.1 at 2009-07-26 10:57:13) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 10ms (View: 6, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-07-26 10:57:15) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (2.6ms)
Completed in 12ms (View: 8, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-07-26 10:57:24) [POST]
  Parameters: {"user"=>{"name"=>"Alfred", "role"=>"administrator"}, "commit"=>"Submit", "authenticity_token"=>"oUtMbS/ztE/ndfCeU3oQ8ErJyF7yLRReHpVVqE2E6pY="}
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("name", "updated_at", "role", "created_at") VALUES('Alfred', '2009-07-26 08:57:24', 'administrator', '2009-07-26 08:57:24')[0m
Redirected to http://localhost:3000/users/1
Completed in 9ms (DB: 0) | 302 Found [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-26 10:57:24) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 9ms (View: 5, DB: 0) | 200 OK [http://localhost/users/1]


Processing UsersController#index (for 127.0.0.1 at 2009-07-26 10:57:26) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-07-26 10:57:27) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (2.9ms)
Completed in 11ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-07-26 10:57:39) [POST]
  Parameters: {"user"=>{"name"=>"John", "role"=>"secretary"}, "commit"=>"Submit", "authenticity_token"=>"oUtMbS/ztE/ndfCeU3oQ8ErJyF7yLRReHpVVqE2E6pY="}
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "updated_at", "role", "created_at") VALUES('John', '2009-07-26 08:57:39', 'secretary', '2009-07-26 08:57:39')[0m
Redirected to http://localhost:3000/users/2
Completed in 9ms (DB: 0) | 302 Found [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-26 10:57:39) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/2]


Processing UsersController#index (for 127.0.0.1 at 2009-07-26 10:57:43) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-07-26 10:57:44) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (1.9ms)
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-07-26 10:58:00) [POST]
  Parameters: {"user"=>{"name"=>"Dan", "role"=>"technician"}, "commit"=>"Submit", "authenticity_token"=>"oUtMbS/ztE/ndfCeU3oQ8ErJyF7yLRReHpVVqE2E6pY="}
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("name", "updated_at", "role", "created_at") VALUES('Dan', '2009-07-26 08:58:00', 'technician', '2009-07-26 08:58:00')[0m
Redirected to http://localhost:3000/users/3
Completed in 9ms (DB: 0) | 302 Found [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-26 10:58:00) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/3]


Processing UsersController#index (for 127.0.0.1 at 2009-07-26 10:58:02) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 10ms (View: 5, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-07-26 10:58:02) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (2.0ms)
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-07-26 10:58:14) [POST]
  Parameters: {"user"=>{"name"=>"Richard", "role"=>"technician"}, "commit"=>"Submit", "authenticity_token"=>"oUtMbS/ztE/ndfCeU3oQ8ErJyF7yLRReHpVVqE2E6pY="}
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "updated_at", "role", "created_at") VALUES('Richard', '2009-07-26 08:58:14', 'technician', '2009-07-26 08:58:14')[0m
Redirected to http://localhost:3000/users/4
Completed in 11ms (DB: 0) | 302 Found [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-26 10:58:14) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/4]


Processing UsersController#index (for 127.0.0.1 at 2009-07-26 10:58:16) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 8ms (View: 4, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-07-26 10:58:17) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (1.9ms)
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-07-26 10:58:23) [POST]
  Parameters: {"user"=>{"name"=>"Dorothy", "role"=>"client"}, "commit"=>"Submit", "authenticity_token"=>"oUtMbS/ztE/ndfCeU3oQ8ErJyF7yLRReHpVVqE2E6pY="}
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "updated_at", "role", "created_at") VALUES('Dorothy', '2009-07-26 08:58:23', 'client', '2009-07-26 08:58:23')[0m
Redirected to http://localhost:3000/users/5
Completed in 9ms (DB: 0) | 302 Found [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-26 10:58:23) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/5]


Processing UsersController#index (for 127.0.0.1 at 2009-07-26 10:58:25) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 9ms (View: 5, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-07-26 10:58:27) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (1.9ms)
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-07-26 10:58:36) [POST]
  Parameters: {"user"=>{"name"=>"Robert", "role"=>"client"}, "commit"=>"Submit", "authenticity_token"=>"oUtMbS/ztE/ndfCeU3oQ8ErJyF7yLRReHpVVqE2E6pY="}
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("name", "updated_at", "role", "created_at") VALUES('Robert', '2009-07-26 08:58:37', 'client', '2009-07-26 08:58:37')[0m
Redirected to http://localhost:3000/users/6
Completed in 71ms (DB: 0) | 302 Found [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-26 10:58:37) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 6) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/users/6]


Processing UsersController#index (for 127.0.0.1 at 2009-07-26 10:58:38) [GET]
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 6, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-07-26 10:58:41) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (1.9ms)
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-07-26 10:58:53) [POST]
  Parameters: {"user"=>{"name"=>"Sarah", "role"=>"client"}, "commit"=>"Submit", "authenticity_token"=>"oUtMbS/ztE/ndfCeU3oQ8ErJyF7yLRReHpVVqE2E6pY="}
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "updated_at", "role", "created_at") VALUES('Sarah', '2009-07-26 08:58:53', 'client', '2009-07-26 08:58:53')[0m
Redirected to http://localhost:3000/users/7
Completed in 9ms (DB: 0) | 302 Found [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-26 10:58:53) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/7]


Processing UsersController#index (for 127.0.0.1 at 2009-07-26 10:58:55) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 6, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-07-26 10:58:57) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (1.9ms)
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-07-26 10:59:08) [POST]
  Parameters: {"user"=>{"name"=>"Michael", "role"=>"client"}, "commit"=>"Submit", "authenticity_token"=>"oUtMbS/ztE/ndfCeU3oQ8ErJyF7yLRReHpVVqE2E6pY="}
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("name", "updated_at", "role", "created_at") VALUES('Michael', '2009-07-26 08:59:08', 'client', '2009-07-26 08:59:08')[0m
Redirected to http://localhost:3000/users/8
Completed in 171ms (DB: 0) | 302 Found [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-26 10:59:09) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/8]


Processing UsersController#index (for 127.0.0.1 at 2009-07-26 10:59:11) [GET]
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 6, DB: 1) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateEquipment (20090726084716)
Migrating to CreateUsers (20090726085627)
Migrating to CreateMaintenances (20090726091444)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "maintenances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "equipment_id" integer, "client_id" integer, "technician_id" integer, "service_type" varchar(255), "scheduled_date_at" date, "effective_date_at" date, "duration_in_hours" decimal, "accepted" boolean, "completed" boolean, "note" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090726091444')[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("equipment")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("maintenances")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-26 11:15:00) [GET]
  [4;35;1mMaintenance Load (0.4ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#new (for 127.0.0.1 at 2009-07-26 11:15:03) [GET]
Rendering template within layouts/application
Rendering maintenances/new

ActionView::TemplateError (undefined method `equipment' for #<Maintenance:0x249c65c>) on line #5 of app/views/maintenances/_form.html.erb:
2: <% form_for @maintenance do |f| %>
3:   <p>
4:     <%= f.label :equipment %><br />
5:     <%= f.text_field :equipment %>
6:   </p>
7:   <p>
8:     <%= f.label :client %><br />

    app/views/maintenances/_form.html.erb:5
    app/views/maintenances/_form.html.erb:2
    app/views/maintenances/new.html.erb:3

Rendered rescues/_trace (45.1ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#new (for 127.0.0.1 at 2009-07-26 11:17:39) [GET]
Rendering template within layouts/application
Rendering maintenances/new
  [4;36;1mEquipment Load (0.4ms)[0m   [0;1mSELECT * FROM "equipment" [0m

ActionView::TemplateError (undefined method `merge' for :name:Symbol) on line #5 of app/views/maintenances/_form.html.erb:
2: <% form_for @maintenance do |f| %>
3:   <p>
4:     <%= f.label :equipment %><br />
5:     <%= f.collection_select(:maintenance, :equipment_id, Equipment.all, :id, :name, {:prompt => true}) %>
6:   </p>
7:   <p>
8:     <%= f.label :client %><br />

    app/views/maintenances/_form.html.erb:5
    app/views/maintenances/_form.html.erb:2
    app/views/maintenances/new.html.erb:3

Rendered rescues/_trace (44.2ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#new (for 127.0.0.1 at 2009-07-26 11:18:07) [GET]
Rendering template within layouts/application
Rendering maintenances/new
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT * FROM "equipment" [0m

ActionView::TemplateError (undefined method `merge' for "name":String) on line #5 of app/views/maintenances/_form.html.erb:
2: <% form_for @maintenance do |f| %>
3:   <p>
4:     <%= f.label :equipment %><br />
5:     <%= f.collection_select(:maintenance, :equipment_id, Equipment.all, :id, "name", {:prompt => true}) %>
6:   </p>
7:   <p>
8:     <%= f.label :client %><br />

    app/views/maintenances/_form.html.erb:5
    app/views/maintenances/_form.html.erb:2
    app/views/maintenances/new.html.erb:3

Rendered rescues/_trace (110.8ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#new (for 127.0.0.1 at 2009-07-26 11:19:03) [GET]
Rendering template within layouts/application
Rendering maintenances/new
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" [0m

ActionView::TemplateError (undefined method `client' for #<Maintenance:0x255c128>) on line #9 of app/views/maintenances/_form.html.erb:
6:   </p>
7:   <p>
8:     <%= f.label :client %><br />
9:     <%= f.text_field :client %>
10:     <%= f.collection_select(:client_id, Client.all, :id, :name, {:prompt => true}) %>
11:   </p>
12:   <p>

    app/views/maintenances/_form.html.erb:9
    app/views/maintenances/_form.html.erb:2
    app/views/maintenances/new.html.erb:3

Rendered rescues/_trace (45.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#new (for 127.0.0.1 at 2009-07-26 11:20:45) [GET]
Rendering template within layouts/application
Rendering maintenances/new
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT * FROM "equipment" [0m

ActionView::TemplateError (undefined method `client' for #<Maintenance:0x21052b4>) on line #9 of app/views/maintenances/_form.html.erb:
6:   </p>
7:   <p>
8:     <%= f.label :client %><br />
9:     <%= f.text_field :client %>
10:     <%= f.collection_select(:user_id, Client.all, :id, :name, {:prompt => true}) %>
11:   </p>
12:   <p>

    app/views/maintenances/_form.html.erb:9
    app/views/maintenances/_form.html.erb:2
    app/views/maintenances/new.html.erb:3

Rendered rescues/_trace (46.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#new (for 127.0.0.1 at 2009-07-26 11:20:46) [GET]
Rendering template within layouts/application
Rendering maintenances/new
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" [0m

ActionView::TemplateError (undefined method `client' for #<Maintenance:0x2295f5c>) on line #9 of app/views/maintenances/_form.html.erb:
6:   </p>
7:   <p>
8:     <%= f.label :client %><br />
9:     <%= f.text_field :client %>
10:     <%= f.collection_select(:user_id, Client.all, :id, :name, {:prompt => true}) %>
11:   </p>
12:   <p>

    app/views/maintenances/_form.html.erb:9
    app/views/maintenances/_form.html.erb:2
    app/views/maintenances/new.html.erb:3

Rendered rescues/_trace (121.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#new (for 127.0.0.1 at 2009-07-26 11:20:47) [GET]
Rendering template within layouts/application
Rendering maintenances/new
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT * FROM "equipment" [0m

ActionView::TemplateError (undefined method `client' for #<Maintenance:0x24f2de0>) on line #9 of app/views/maintenances/_form.html.erb:
6:   </p>
7:   <p>
8:     <%= f.label :client %><br />
9:     <%= f.text_field :client %>
10:     <%= f.collection_select(:user_id, Client.all, :id, :name, {:prompt => true}) %>
11:   </p>
12:   <p>

    app/views/maintenances/_form.html.erb:9
    app/views/maintenances/_form.html.erb:2
    app/views/maintenances/new.html.erb:3

Rendered rescues/_trace (50.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#new (for 127.0.0.1 at 2009-07-26 11:21:02) [GET]
Rendering template within layouts/application
Rendering maintenances/new
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m

ActionView::TemplateError (undefined method `technician' for #<Maintenance:0x20f4004>) on line #41 of app/views/maintenances/_form.html.erb:
38:   </p>
39:   <p>
40:     <%= f.label :technician %><br />
41:     <%= f.text_field :technician %>
42:   </p>
43:   <p>
44:     <%= f.label :note %><br />

    app/views/maintenances/_form.html.erb:41
    app/views/maintenances/_form.html.erb:2
    app/views/maintenances/new.html.erb:3

Rendered rescues/_trace (44.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#new (for 127.0.0.1 at 2009-07-26 11:21:19) [GET]
Rendering template within layouts/application
Rendering maintenances/new
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT * FROM "equipment" [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m
Rendered maintenances/_form (25.1ms)
Completed in 35ms (View: 27, DB: 1) | 200 OK [http://localhost/maintenances/new]


Processing MaintenancesController#new (for 127.0.0.1 at 2009-07-26 11:22:29) [GET]
Rendering template within layouts/application
Rendering maintenances/new
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT * FROM "equipment" [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m
Rendered maintenances/_form (96.4ms)
Completed in 104ms (View: 99, DB: 1) | 200 OK [http://localhost/maintenances/new]


Processing MaintenancesController#new (for 127.0.0.1 at 2009-07-26 11:22:36) [GET]
Rendering template within layouts/application
Rendering maintenances/new
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" [0m
  [4;35;1mTechnician Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m
Rendered maintenances/_form (26.5ms)
Completed in 35ms (View: 29, DB: 1) | 200 OK [http://localhost/maintenances/new]


Processing MaintenancesController#new (for 127.0.0.1 at 2009-07-26 11:23:56) [GET]
Rendering template within layouts/application
Rendering maintenances/new
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT * FROM "equipment" [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m
Rendered maintenances/_form (25.9ms)
Completed in 33ms (View: 28, DB: 1) | 200 OK [http://localhost/maintenances/new]


Processing MaintenancesController#new (for 127.0.0.1 at 2009-07-26 11:24:38) [GET]
Rendering template within layouts/application
Rendering maintenances/new
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m
Rendered maintenances/_form (25.6ms)
Completed in 33ms (View: 28, DB: 1) | 200 OK [http://localhost/maintenances/new]


Processing MaintenancesController#create (for 127.0.0.1 at 2009-07-26 11:30:23) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"oUtMbS/ztE/ndfCeU3oQ8ErJyF7yLRReHpVVqE2E6pY=", "maintenance"=>{"completed"=>"0", "accepted"=>"1", "duration_in_hours"=>"2", "effective_date_at(2i)"=>"7", "scheduled_date_at(3i)"=>"26", "effective_date_at(3i)"=>"26", "technician_id"=>"3", "client_id"=>"5", "equipment_id"=>"1", "note"=>"nothing special", "service_type"=>"scheduled assistance operations", "scheduled_date_at(1i)"=>"2009", "effective_date_at(1i)"=>"2009", "scheduled_date_at(2i)"=>"7"}}

NoMethodError (undefined method `to_sym' for {:pending=>{:conditions=>{:completed=>false, :accepted=>true}}}:Hash):
  app/models/maintenance.rb:2
  app/controllers/maintenances_controller.rb:15:in `create'

Rendered rescues/_trace (32.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#create (for 127.0.0.1 at 2009-07-26 11:30:48) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"oUtMbS/ztE/ndfCeU3oQ8ErJyF7yLRReHpVVqE2E6pY=", "maintenance"=>{"completed"=>"0", "accepted"=>"1", "duration_in_hours"=>"2", "effective_date_at(2i)"=>"7", "scheduled_date_at(3i)"=>"26", "effective_date_at(3i)"=>"26", "technician_id"=>"3", "client_id"=>"5", "equipment_id"=>"1", "note"=>"nothing special", "service_type"=>"scheduled assistance operations", "scheduled_date_at(1i)"=>"2009", "effective_date_at(1i)"=>"2009", "scheduled_date_at(2i)"=>"7"}}
  [4;36;1mMaintenance Create (0.4ms)[0m   [0;1mINSERT INTO "maintenances" ("scheduled_date_at", "duration_in_hours", "accepted", "completed", "effective_date_at", "updated_at", "client_id", "technician_id", "equipment_id", "note", "service_type", "created_at") VALUES('2009-07-26', 2.0, 't', 'f', '2009-07-26', '2009-07-26 09:30:48', 5, 3, 1, 'nothing special', 'scheduled assistance operations', '2009-07-26 09:30:48')[0m
Redirected to http://localhost:3000/maintenances/1
Completed in 12ms (DB: 0) | 302 Found [http://localhost/maintenances]


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-26 11:30:48) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/show

ActionView::TemplateError (undefined method `equipment' for #<Maintenance:0x21dc50c>) on line #5 of app/views/maintenances/show.html.erb:
2: 
3: <p>
4:   <strong>Equipment:</strong>
5:   <%=h @maintenance.equipment %>
6: </p>
7: <p>
8:   <strong>Client:</strong>

    app/views/maintenances/show.html.erb:5

Rendered rescues/_trace (33.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-26 11:32:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/show

ActionView::TemplateError (undefined method `equipment_name' for #<Maintenance:0x2010854>) on line #5 of app/views/maintenances/show.html.erb:
2: 
3: <p>
4:   <strong>Equipment:</strong>
5:   <%=h @maintenance.equipment_name %>
6: </p>
7: <p>
8:   <strong>Client:</strong>

    app/views/maintenances/show.html.erb:5

Rendered rescues/_trace (35.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-26 11:34:22) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mMaintenance Load (0.4ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/show

ActionView::TemplateError (undefined method `equipment_name' for #<Maintenance:0x2263ca0>) on line #5 of app/views/maintenances/show.html.erb:
2: 
3: <p>
4:   <strong>Equipment:</strong>
5:   <%=h @maintenance.equipment_name %>
6: </p>
7: <p>
8:   <strong>Client:</strong>

    app/views/maintenances/show.html.erb:5

Rendered rescues/_trace (33.4ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-26 11:35:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/show
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 87ms (View: 80, DB: 1) | 200 OK [http://localhost/maintenances/1]


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-26 11:36:30) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/show

ActionView::TemplateError (undefined method `equipment_name' for #<Maintenance:0x251d220>) on line #5 of app/views/maintenances/show.html.erb:
2: 
3: <p>
4:   <strong>Equipment:</strong>
5:   <%=h @maintenance.equipment_name %>
6: </p>
7: <p>
8:   <strong>Client:</strong>

    app/views/maintenances/show.html.erb:5

Rendered rescues/_trace (34.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-26 11:36:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/show

ActionView::TemplateError (undefined method `equipment_name' for #<Maintenance:0x21855e0>) on line #5 of app/views/maintenances/show.html.erb:
2: 
3: <p>
4:   <strong>Equipment:</strong>
5:   <%=h @maintenance.equipment_name %>
6: </p>
7: <p>
8:   <strong>Client:</strong>

    app/views/maintenances/show.html.erb:5

Rendered rescues/_trace (33.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-26 11:36:53) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/show
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m

ActionView::TemplateError (undefined method `equipment_name' for "#<Equipment:0x257be60>":Equipment) on line #5 of app/views/maintenances/show.html.erb:
2: 
3: <p>
4:   <strong>Equipment:</strong>
5:   <%=h @maintenance.equipment_name %>
6: </p>
7: <p>
8:   <strong>Client:</strong>

    app/models/maintenance.rb:7:in `__send__'
    app/models/maintenance.rb:7:in `equipment_name'
    app/views/maintenances/show.html.erb:5

Rendered rescues/_trace (34.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-26 11:37:01) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mMaintenance Load (0.4ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/show

ActionView::TemplateError (undefined method `equipment_name' for #<Maintenance:0x21aabec>) on line #5 of app/views/maintenances/show.html.erb:
2: 
3: <p>
4:   <strong>Equipment:</strong>
5:   <%=h @maintenance.equipment_name %>
6: </p>
7: <p>
8:   <strong>Client:</strong>

    app/views/maintenances/show.html.erb:5

Rendered rescues/_trace (33.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-26 11:37:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/show
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 24ms (View: 17, DB: 1) | 200 OK [http://localhost/maintenances/1]


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-26 12:25:00) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/show
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 29ms (View: 21, DB: 1) | 200 OK [http://localhost/maintenances/1]


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-26 12:25:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/show
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 28ms (View: 20, DB: 1) | 200 OK [http://localhost/maintenances/1]


Processing MaintenancesController#edit (for 127.0.0.1 at 2009-07-26 12:25:40) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/edit
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT * FROM "equipment" [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m
Rendered maintenances/_form (26.2ms)
Completed in 38ms (View: 31, DB: 1) | 200 OK [http://localhost/maintenances/1/edit]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-26 12:25:46) [GET]
  [4;35;1mMaintenance Load (0.8ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;36;1mEquipment Load (0.4ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 95ms (View: 85, DB: 2) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-26 12:26:13) [GET]
  [4;35;1mMaintenance Load (0.7ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 29ms (View: 23, DB: 1) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-26 12:26:35) [GET]
  [4;35;1mMaintenance Load (0.6ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 29ms (View: 23, DB: 1) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#edit (for 127.0.0.1 at 2009-07-26 12:26:39) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/edit
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT * FROM "equipment" [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m
Rendered maintenances/_form (24.8ms)
Completed in 36ms (View: 26, DB: 1) | 200 OK [http://localhost/maintenances/1/edit]


Processing MaintenancesController#edit (for 127.0.0.1 at 2009-07-26 15:34:21) [GET]
  Parameters: {"id"=>"1"}

SyntaxError (/Users/miky/code/convergent/maintenance/app/models/maintenance.rb:21: syntax error, unexpected kELSIF, expecting kEND
    elsif not accepted
         ^
/Users/miky/code/convergent/maintenance/app/models/maintenance.rb:25: syntax error, unexpected $end, expecting kEND):
  app/controllers/maintenances_controller.rb:25:in `edit'

Rendered rescues/_trace (95.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#edit (for 127.0.0.1 at 2009-07-26 15:34:43) [GET]
  Parameters: {"id"=>"1"}

SyntaxError (/Users/miky/code/convergent/maintenance/app/models/maintenance.rb:21: syntax error, unexpected kELSE, expecting kEND
/Users/miky/code/convergent/maintenance/app/models/maintenance.rb:25: syntax error, unexpected $end, expecting kEND):
  app/controllers/maintenances_controller.rb:25:in `edit'

Rendered rescues/_trace (31.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#edit (for 127.0.0.1 at 2009-07-26 15:34:52) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/edit
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT * FROM "equipment" [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m
Rendered maintenances/_form (25.5ms)
Completed in 34ms (View: 26, DB: 1) | 200 OK [http://localhost/maintenances/1/edit]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-26 15:34:58) [GET]
  [4;35;1mMaintenance Load (0.5ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
ERROR: compiling _run_erb_app47views47maintenances47index46html46erb RAISED compile error
/Users/miky/code/convergent/maintenance/app/views/maintenances/index.html.erb:11: syntax error, unexpected ')', expecting kTHEN or ':' or '\n' or ';'
...tenance.status == "complete" ).to_s); @output_buffer.concat ...
                              ^
/Users/miky/code/convergent/maintenance/app/views/maintenances/index.html.erb:13: syntax error, unexpected kEND
..."; @output_buffer.concat(( end ).to_s); @output_buffer.conca...
                              ^
/Users/miky/code/convergent/maintenance/app/views/maintenances/index.html.erb:25: syntax error, unexpected ')', expecting kTHEN or ':' or '\n' or ';'
...tenance.status == "complete" ).to_s); @output_buffer.concat ...
                              ^
/Users/miky/code/convergent/maintenance/app/views/maintenances/index.html.erb:27: syntax error, unexpected kEND
..."; @output_buffer.concat(( end ).to_s); @output_buffer.conca...
                              ^
Function body:           def _run_erb_app47views47maintenances47index46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  title "Maintenances" ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table>\n"
@output_buffer.concat "  <tr>\n"
@output_buffer.concat "    <th>Equipment</th>\n"
@output_buffer.concat "    <th>Client</th>\n"
@output_buffer.concat "    <th>Technician</th>\n"
@output_buffer.concat "    <th>Service Type</th>\n"
@output_buffer.concat "    <th>Scheduled Date At</th>\n"
@output_buffer.concat "    <th>Effective Date At</th>\n"
@output_buffer.concat "    "; @output_buffer.concat(( if maintenance.status == "complete" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    <th>Duration In Hours</th>\n"
@output_buffer.concat "    "; @output_buffer.concat(( end ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    <th>Status</th>\n"
@output_buffer.concat "    <th>Note</th>\n"
@output_buffer.concat "  </tr>\n"
@output_buffer.concat "  ";  for maintenance in @maintenances ; @output_buffer.concat "\n"
@output_buffer.concat "    <tr>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat((h maintenance.equipment_name ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat((h maintenance.client_name ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat((h maintenance.technician_name ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat((h maintenance.service_type ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat((h maintenance.scheduled_date_at ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat((h maintenance.effective_date_at ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      "; @output_buffer.concat(( if maintenance.status == "complete" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "      <td>"; @output_buffer.concat((h maintenance.duration_in_hours ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      "; @output_buffer.concat(( end ).to_s); @output_buffer.concat "      \n"
@output_buffer.concat "      <td>"; @output_buffer.concat((h maintenance.status ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat((h maintenance.note ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat(( link_to "Show", maintenance ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat(( link_to "Edit", edit_maintenance_path(maintenance) ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat(( link_to "Destroy", maintenance, :confirm => 'Are you sure?', :method => :delete ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "    </tr>\n"
@output_buffer.concat "  ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>"; @output_buffer.concat(( link_to "New Maintenance", new_maintenance_path ).to_s); @output_buffer.concat "</p>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/maintenance/app/views/maintenances/index.html.erb:41:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/Users/miky/code/convergent/maintenance/app/views/maintenances/index.html.erb:11: syntax error, unexpected ')', expecting kTHEN or ':' or '\n' or ';'
...tenance.status == "complete" ).to_s); @output_buffer.concat ...
                              ^
/Users/miky/code/convergent/maintenance/app/views/maintenances/index.html.erb:13: syntax error, unexpected kEND
..."; @output_buffer.concat(( end ).to_s); @output_buffer.conca...
                              ^
/Users/miky/code/convergent/maintenance/app/views/maintenances/index.html.erb:25: syntax error, unexpected ')', expecting kTHEN or ':' or '\n' or ';'
...tenance.status == "complete" ).to_s); @output_buffer.concat ...
                              ^
/Users/miky/code/convergent/maintenance/app/views/maintenances/index.html.erb:27: syntax error, unexpected kEND
..."; @output_buffer.concat(( end ).to_s); @output_buffer.conca...
                              ^) on line #11 of app/views/maintenances/index.html.erb:
8:     <th>Service Type</th>
9:     <th>Scheduled Date At</th>
10:     <th>Effective Date At</th>
11:     <%= if maintenance.status == "complete" %>
12:     <th>Duration In Hours</th>
13:     <%= end %>
14:     <th>Status</th>

    app/views/maintenances/index.html.erb:41:in `compile!'

Rendered rescues/_trace (95.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-26 15:35:34) [GET]
  [4;36;1mMaintenance Load (0.6ms)[0m   [0;1mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
ERROR: compiling _run_erb_app47views47maintenances47index46html46erb RAISED compile error
/Users/miky/code/convergent/maintenance/app/views/maintenances/index.html.erb:11: syntax error, unexpected ')', expecting kTHEN or ':' or '\n' or ';'
...tenance.status == "complete" ).to_s); @output_buffer.concat ...
                              ^
/Users/miky/code/convergent/maintenance/app/views/maintenances/index.html.erb:13: syntax error, unexpected kEND
..."; @output_buffer.concat(( end ).to_s); @output_buffer.conca...
                              ^
/Users/miky/code/convergent/maintenance/app/views/maintenances/index.html.erb:25: syntax error, unexpected ')', expecting kTHEN or ':' or '\n' or ';'
...tenance.status == "complete" ).to_s); @output_buffer.concat ...
                              ^
/Users/miky/code/convergent/maintenance/app/views/maintenances/index.html.erb:27: syntax error, unexpected kEND
..."; @output_buffer.concat(( end ).to_s); @output_buffer.conca...
                              ^
Function body:           def _run_erb_app47views47maintenances47index46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  title "Maintenances" ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table>\n"
@output_buffer.concat "  <tr>\n"
@output_buffer.concat "    <th>Equipment</th>\n"
@output_buffer.concat "    <th>Client</th>\n"
@output_buffer.concat "    <th>Technician</th>\n"
@output_buffer.concat "    <th>Service Type</th>\n"
@output_buffer.concat "    <th>Scheduled Date At</th>\n"
@output_buffer.concat "    <th>Effective Date At</th>\n"
@output_buffer.concat "  "; @output_buffer.concat(( if maintenance.status == "complete" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    <th>Duration In Hours</th>\n"
@output_buffer.concat "  "; @output_buffer.concat(( end ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    <th>Status</th>\n"
@output_buffer.concat "    <th>Note</th>\n"
@output_buffer.concat "  </tr>\n"
@output_buffer.concat "  ";  for maintenance in @maintenances ; @output_buffer.concat "\n"
@output_buffer.concat "    <tr>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat((h maintenance.equipment_name ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat((h maintenance.client_name ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat((h maintenance.technician_name ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat((h maintenance.service_type ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat((h maintenance.scheduled_date_at ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat((h maintenance.effective_date_at ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "    "; @output_buffer.concat(( if maintenance.status == "complete" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "      <td>"; @output_buffer.concat((h maintenance.duration_in_hours ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "    "; @output_buffer.concat(( end ).to_s); @output_buffer.concat "      \n"
@output_buffer.concat "      <td>"; @output_buffer.concat((h maintenance.status ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat((h maintenance.note ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat(( link_to "Show", maintenance ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat(( link_to "Edit", edit_maintenance_path(maintenance) ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "      <td>"; @output_buffer.concat(( link_to "Destroy", maintenance, :confirm => 'Are you sure?', :method => :delete ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "    </tr>\n"
@output_buffer.concat "  ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>"; @output_buffer.concat(( link_to "New Maintenance", new_maintenance_path ).to_s); @output_buffer.concat "</p>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/maintenance/app/views/maintenances/index.html.erb:41:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/Users/miky/code/convergent/maintenance/app/views/maintenances/index.html.erb:11: syntax error, unexpected ')', expecting kTHEN or ':' or '\n' or ';'
...tenance.status == "complete" ).to_s); @output_buffer.concat ...
                              ^
/Users/miky/code/convergent/maintenance/app/views/maintenances/index.html.erb:13: syntax error, unexpected kEND
..."; @output_buffer.concat(( end ).to_s); @output_buffer.conca...
                              ^
/Users/miky/code/convergent/maintenance/app/views/maintenances/index.html.erb:25: syntax error, unexpected ')', expecting kTHEN or ':' or '\n' or ';'
...tenance.status == "complete" ).to_s); @output_buffer.concat ...
                              ^
/Users/miky/code/convergent/maintenance/app/views/maintenances/index.html.erb:27: syntax error, unexpected kEND
..."; @output_buffer.concat(( end ).to_s); @output_buffer.conca...
                              ^) on line #11 of app/views/maintenances/index.html.erb:
8:     <th>Service Type</th>
9:     <th>Scheduled Date At</th>
10:     <th>Effective Date At</th>
11:   <%= if maintenance.status == "complete" %>
12:     <th>Duration In Hours</th>
13:   <%= end %>
14:     <th>Status</th>

    app/views/maintenances/index.html.erb:41:in `compile!'

Rendered rescues/_trace (32.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-26 15:36:32) [GET]
  [4;35;1mMaintenance Load (0.7ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index

ActionView::TemplateError (undefined local variable or method `maintenance' for #<ActionView::Base:0x2190184>) on line #11 of app/views/maintenances/index.html.erb:
8:     <th>Service Type</th>
9:     <th>Scheduled Date At</th>
10:     <th>Effective Date At</th>
11:   <% if maintenance.status == "complete" %>
12:     <th>Duration In Hours</th>
13:   <% end %>
14:     <th>Status</th>

    app/views/maintenances/index.html.erb:11

Rendered rescues/_trace (97.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-26 15:37:04) [GET]
  [4;36;1mMaintenance Load (0.6ms)[0m   [0;1mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 29ms (View: 23, DB: 1) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-26 15:37:13) [GET]
  [4;36;1mMaintenance Load (0.5ms)[0m   [0;1mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 27ms (View: 21, DB: 1) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-26 15:37:48) [GET]
  [4;36;1mMaintenance Load (0.5ms)[0m   [0;1mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 27ms (View: 21, DB: 1) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-26 15:37:57) [GET]
  [4;36;1mMaintenance Load (0.5ms)[0m   [0;1mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 27ms (View: 21, DB: 1) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-26 15:37:59) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/show
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 88ms (View: 18, DB: 1) | 200 OK [http://localhost/maintenances/1]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-26 15:38:02) [GET]
  [4;36;1mMaintenance Load (0.6ms)[0m   [0;1mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 25ms (View: 18, DB: 1) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#edit (for 127.0.0.1 at 2009-07-26 15:38:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/edit
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m
Rendered maintenances/_form (24.3ms)
Completed in 34ms (View: 25, DB: 1) | 200 OK [http://localhost/maintenances/1/edit]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-26 15:38:16) [GET]
  [4;36;1mMaintenance Load (0.5ms)[0m   [0;1mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 23ms (View: 17, DB: 1) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-26 15:38:31) [GET]
  [4;36;1mMaintenance Load (0.5ms)[0m   [0;1mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 26ms (View: 21, DB: 1) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#edit (for 127.0.0.1 at 2009-07-26 15:38:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/edit
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m
Rendered maintenances/_form (27.0ms)
Completed in 101ms (View: 28, DB: 1) | 200 OK [http://localhost/maintenances/1/edit]


Processing EquipmentsController#index (for 127.0.0.1 at 2009-07-26 15:39:13) [GET]
  [4;36;1mEquipment Load (0.5ms)[0m   [0;1mSELECT * FROM "equipment" [0m
Rendering template within layouts/application
Rendering equipments/index
Completed in 10ms (View: 4, DB: 1) | 200 OK [http://localhost/equipments]


Processing EquipmentsController#new (for 127.0.0.1 at 2009-07-26 15:39:17) [GET]
Rendering template within layouts/application
Rendering equipments/new
Rendered equipments/_form (3.7ms)
Completed in 12ms (View: 7, DB: 0) | 200 OK [http://localhost/equipments/new]


Processing EquipmentsController#create (for 127.0.0.1 at 2009-07-26 15:40:22) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"oUtMbS/ztE/ndfCeU3oQ8ErJyF7yLRReHpVVqE2E6pY=", "equipment"=>{"name"=>"Condizionamento ISCAT", "code"=>"129", "maintenance_periodicity_in_months"=>"12", "description"=>"Grandi impianti", "note"=>"Impianto industriale"}}
  [4;35;1mEquipment Create (0.4ms)[0m   [0mINSERT INTO "equipment" ("name", "updated_at", "code", "maintenance_periodicity_in_months", "description", "note", "created_at") VALUES('Condizionamento ISCAT', '2009-07-26 13:40:22', '129', 12, 'Grandi impianti', 'Impianto industriale', '2009-07-26 13:40:22')[0m
Redirected to http://localhost:3000/equipments/2
Completed in 11ms (DB: 0) | 302 Found [http://localhost/equipments]


Processing EquipmentsController#show (for 127.0.0.1 at 2009-07-26 15:40:23) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mEquipment Load (0.2ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 2) [0m
Rendering template within layouts/application
Rendering equipments/show
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/equipments/2]


Processing EquipmentsController#index (for 127.0.0.1 at 2009-07-26 15:40:24) [GET]
  [4;35;1mEquipment Load (0.5ms)[0m   [0mSELECT * FROM "equipment" [0m
Rendering template within layouts/application
Rendering equipments/index
Completed in 9ms (View: 4, DB: 1) | 200 OK [http://localhost/equipments]


Processing EquipmentsController#new (for 127.0.0.1 at 2009-07-26 15:40:30) [GET]
Rendering template within layouts/application
Rendering equipments/new
Rendered equipments/_form (2.6ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/equipments/new]


Processing EquipmentsController#create (for 127.0.0.1 at 2009-07-26 15:41:44) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"oUtMbS/ztE/ndfCeU3oQ8ErJyF7yLRReHpVVqE2E6pY=", "equipment"=>{"name"=>"Caldaia Darting", "code"=>"0200", "maintenance_periodicity_in_months"=>"12", "description"=>"Automazione Termica Gas", "note"=>"Bla bla  bla"}}
  [4;36;1mEquipment Create (0.6ms)[0m   [0;1mINSERT INTO "equipment" ("name", "updated_at", "code", "maintenance_periodicity_in_months", "description", "note", "created_at") VALUES('Caldaia Darting', '2009-07-26 13:41:44', '0200', 12, 'Automazione Termica Gas', 'Bla bla bla', '2009-07-26 13:41:44')[0m
Redirected to http://localhost:3000/equipments/3
Completed in 11ms (DB: 1) | 302 Found [http://localhost/equipments]


Processing EquipmentsController#show (for 127.0.0.1 at 2009-07-26 15:41:44) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 3) [0m
Rendering template within layouts/application
Rendering equipments/show
Completed in 76ms (View: 3, DB: 0) | 200 OK [http://localhost/equipments/3]


Processing EquipmentsController#index (for 127.0.0.1 at 2009-07-26 15:41:46) [GET]
  [4;36;1mEquipment Load (0.6ms)[0m   [0;1mSELECT * FROM "equipment" [0m
Rendering template within layouts/application
Rendering equipments/index
Completed in 10ms (View: 5, DB: 1) | 200 OK [http://localhost/equipments]


Processing EquipmentsController#new (for 127.0.0.1 at 2009-07-26 15:41:49) [GET]
Rendering template within layouts/application
Rendering equipments/new
Rendered equipments/_form (2.7ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/equipments/new]


Processing EquipmentsController#create (for 127.0.0.1 at 2009-07-26 15:42:51) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"oUtMbS/ztE/ndfCeU3oQ8ErJyF7yLRReHpVVqE2E6pY=", "equipment"=>{"name"=>"Condizionamento Antis", "code"=>"2093", "maintenance_periodicity_in_months"=>"12", "description"=>"Frigo 32k BTU", "note"=>"lallallalla"}}
  [4;35;1mEquipment Create (0.6ms)[0m   [0mINSERT INTO "equipment" ("name", "updated_at", "code", "maintenance_periodicity_in_months", "description", "note", "created_at") VALUES('Condizionamento Antis', '2009-07-26 13:42:51', '2093', 12, 'Frigo 32k BTU', 'lallallalla', '2009-07-26 13:42:51')[0m
Redirected to http://localhost:3000/equipments/4
Completed in 12ms (DB: 1) | 302 Found [http://localhost/equipments]


Processing EquipmentsController#show (for 127.0.0.1 at 2009-07-26 15:42:51) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mEquipment Load (0.2ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 4) [0m
Rendering template within layouts/application
Rendering equipments/show
Completed in 9ms (View: 3, DB: 0) | 200 OK [http://localhost/equipments/4]


Processing EquipmentsController#index (for 127.0.0.1 at 2009-07-26 15:42:53) [GET]
  [4;35;1mEquipment Load (0.7ms)[0m   [0mSELECT * FROM "equipment" [0m
Rendering template within layouts/application
Rendering equipments/index
Completed in 10ms (View: 5, DB: 1) | 200 OK [http://localhost/equipments]


Processing EquipmentsController#index (for 127.0.0.1 at 2009-07-26 15:43:42) [GET]
  [4;36;1mEquipment Load (0.7ms)[0m   [0;1mSELECT * FROM "equipment" [0m
Rendering template within layouts/application
Rendering equipments/index
Completed in 10ms (View: 5, DB: 1) | 200 OK [http://localhost/equipments]


Processing EquipmentsController#show (for 127.0.0.1 at 2009-07-26 15:51:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
Rendering template within layouts/application
Rendering equipments/show
Completed in 9ms (View: 3, DB: 0) | 200 OK [http://localhost/equipments/1]


Processing EquipmentsController#index (for 127.0.0.1 at 2009-07-26 15:51:49) [GET]
  [4;36;1mEquipment Load (0.7ms)[0m   [0;1mSELECT * FROM "equipment" [0m
Rendering template within layouts/application
Rendering equipments/index
Completed in 10ms (View: 5, DB: 1) | 200 OK [http://localhost/equipments]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-26 15:51:55) [GET]
  [4;35;1mMaintenance Load (0.6ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 87ms (View: 20, DB: 1) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-26 15:51:58) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/show
  [4;36;1mEquipment Load (0.2ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 26ms (View: 18, DB: 1) | 200 OK [http://localhost/maintenances/1]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-26 20:14:28) [GET]
  [4;36;1mMaintenance Load (36.2ms)[0m   [0;1mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;35;1mEquipment Load (0.5ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 506ms (View: 399, DB: 37) | 200 OK [http://localhost/]


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-26 20:14:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/show
  [4;35;1mEquipment Load (0.4ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 70ms (View: 60, DB: 1) | 200 OK [http://localhost/maintenances/1]


Processing MaintenancesController#edit (for 127.0.0.1 at 2009-07-26 20:14:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/edit
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.4ms)[0m   [0;1mSELECT * FROM "equipment" [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m
Rendered maintenances/_form (42.4ms)
Completed in 81ms (View: 73, DB: 1) | 200 OK [http://localhost/maintenances/1/edit]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-26 20:14:56) [GET]
  [4;36;1mMaintenance Load (0.6ms)[0m   [0;1mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 26ms (View: 20, DB: 1) | 200 OK [http://localhost/maintenances]


Processing UsersController#index (for 127.0.0.1 at 2009-07-26 20:16:55) [GET]
  [4;36;1mUser Load (35.7ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 396ms (View: 349, DB: 36) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2009-07-26 20:17:04) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/application
Rendering users/edit
Rendered users/_form (4.8ms)
Completed in 48ms (View: 14, DB: 0) | 200 OK [http://localhost/users/8/edit]


Processing UsersController#index (for 127.0.0.1 at 2009-07-26 20:17:06) [GET]
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2009-07-26 20:17:07) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Rendering template within layouts/application
Rendering users/edit
Rendered users/_form (2.0ms)
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/users/4/edit]


Processing UsersController#index (for 127.0.0.1 at 2009-07-26 20:17:09) [GET]
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-26 20:19:15) [GET]
  [4;35;1mMaintenance Load (0.9ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;36;1mEquipment Load (0.4ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 145ms (View: 115, DB: 2) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#new (for 127.0.0.1 at 2009-07-26 20:19:18) [GET]
Rendering template within layouts/application
Rendering maintenances/new
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.8ms)[0m   [0;1mSELECT * FROM "equipment" [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m
Rendered maintenances/_form (269.5ms)
Completed in 327ms (View: 319, DB: 2) | 200 OK [http://localhost/maintenances/new]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-27 01:45:30) [GET]
  [4;36;1mMaintenance Load (0.9ms)[0m   [0;1mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 37ms (View: 28, DB: 2) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 01:45:36) [GET]
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 12ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 01:45:38) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 10ms (View: 6, DB: 0) | 200 OK [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 01:45:43) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/5]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 01:53:16) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m

ActionView::MissingTemplate (Missing layout layouts/client.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 01:53:50) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
Completed in 12ms (View: 7, DB: 0) | 200 OK [http://localhost/users/5]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 01:54:54) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 12ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 01:54:59) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/show
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/users/7]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 01:55:03) [GET]
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 01:55:07) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/5]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-27 11:05:00) [GET]
  [4;35;1mMaintenance Load (0.9ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;36;1mEquipment Load (0.4ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 35ms (View: 25, DB: 2) | 200 OK [http://localhost/]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-27 14:21:04) [GET]
  [4;35;1mMaintenance Load (0.7ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 239ms (View: 224, DB: 2) | 200 OK [http://localhost/]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-27 16:41:54) [GET]
  [4;35;1mMaintenance Load (0.6ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m

ActionView::TemplateError (/Users/miky/code/convergent/maintenance/app/models/client.rb:8: odd number list for Hash
...eduled_date_at < #{Time.now}"}} }
                              ^) on line #15 of app/views/maintenances/index.html.erb:
12:   <% for maintenance in @maintenances %>
13:     <tr>
14:       <td><%=h maintenance.equipment_name %></td>
15:       <td><%=h maintenance.client_name %></td>
16:       <td><%=h maintenance.technician_name %></td>
17:       <td><%=h maintenance.service_type %></td>
18:       <td><%=h maintenance.scheduled_date_at %></td>

    app/models/maintenance.rb:11:in `client_name'
    app/views/maintenances/index.html.erb:15
    app/views/maintenances/index.html.erb:12:in `each'
    app/views/maintenances/index.html.erb:12

Rendered rescues/_trace (45.3ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-27 16:43:28) [GET]
  [4;35;1mMaintenance Load (0.6ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 27ms (View: 20, DB: 1) | 200 OK [http://localhost/]


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-27 16:43:31) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/show
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 26ms (View: 18, DB: 1) | 200 OK [http://localhost/maintenances/1]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-27 16:43:32) [GET]
  [4;35;1mMaintenance Load (0.6ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;36;1mEquipment Load (0.2ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 25ms (View: 19, DB: 1) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#new (for 127.0.0.1 at 2009-07-27 16:43:35) [GET]
Rendering template within layouts/application
Rendering maintenances/new
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.5ms)[0m   [0;1mSELECT * FROM "equipment" [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m
Rendered maintenances/_form (102.2ms)
Completed in 110ms (View: 103, DB: 1) | 200 OK [http://localhost/maintenances/new]


Processing MaintenancesController#create (for 127.0.0.1 at 2009-07-27 16:45:13) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"Kmj8psnIRKS1W+qrDUMEmLitXzWUQ9X8iAoVHNXwuII=", "maintenance"=>{"completed"=>"0", "accepted"=>"0", "duration_in_hours"=>"", "effective_date_at(2i)"=>"8", "scheduled_date_at(3i)"=>"29", "effective_date_at(3i)"=>"29", "technician_id"=>"4", "client_id"=>"7", "equipment_id"=>"2", "note"=>"", "service_type"=>"02131", "scheduled_date_at(1i)"=>"2009", "effective_date_at(1i)"=>"2010", "scheduled_date_at(2i)"=>"8"}}
  [4;36;1mMaintenance Create (0.5ms)[0m   [0;1mINSERT INTO "maintenances" ("scheduled_date_at", "duration_in_hours", "accepted", "completed", "effective_date_at", "updated_at", "client_id", "technician_id", "equipment_id", "note", "service_type", "created_at") VALUES('2009-08-29', NULL, 'f', 'f', '2010-08-29', '2009-07-27 14:45:13', 7, 4, 2, '', '02131', '2009-07-27 14:45:13')[0m
Redirected to http://localhost:3000/maintenances/2
Completed in 14ms (DB: 0) | 302 Found [http://localhost/maintenances]


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-27 16:45:13) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 2) [0m
Rendering template within layouts/application
Rendering maintenances/show
  [4;36;1mEquipment Load (0.2ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 2) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) AND ("users"."role" = 'technician') [0m
Completed in 86ms (View: 79, DB: 1) | 200 OK [http://localhost/maintenances/2]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-27 16:45:15) [GET]
  [4;35;1mMaintenance Load (0.7ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;36;1mEquipment Load (0.2ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 2) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) AND ("users"."role" = 'technician') [0m
Completed in 29ms (View: 22, DB: 2) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#new (for 127.0.0.1 at 2009-07-27 16:45:18) [GET]
Rendering template within layouts/application
Rendering maintenances/new
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.4ms)[0m   [0mSELECT * FROM "equipment" [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m
Rendered maintenances/_form (25.8ms)
Completed in 34ms (View: 26, DB: 1) | 200 OK [http://localhost/maintenances/new]


Processing ApplicationController#index (for 127.0.0.1 at 2009-07-27 17:02:34) [GET]

ActionController::RoutingError (No route matches "/user/1" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 17:02:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::MissingTemplate (Missing layout layouts/administrator.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 17:02:42) [GET]
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 23ms (View: 16, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 17:02:46) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m

ActionView::MissingTemplate (Missing layout layouts/technician.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 17:04:12) [GET]
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 13ms (View: 9, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 17:04:15) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/secretary
Rendering users/show
Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/users/2]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 17:04:16) [GET]
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 17:04:18) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/secretary
Rendering users/show
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/users/2]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 17:04:20) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 17:04:22) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Rendering template within layouts/technician
Rendering users/show
Completed in 10ms (View: 6, DB: 0) | 200 OK [http://localhost/users/4]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 17:04:32) [GET]
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 14ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 17:04:36) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/client
Rendering users/show
Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/users/8]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 17:07:14) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 15ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 17:07:26) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
Rendering template within layouts/technician
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/3]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 17:07:58) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
Rendering template within layouts/technician
Rendering users/show
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/users/3]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 17:07:59) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
Rendering template within layouts/technician
Rendering users/show
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/users/3]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 17:08:01) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 13ms (View: 9, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 17:08:02) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/client
Rendering users/show
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/users/8]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 17:09:49) [GET]
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 22ms (View: 17, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 17:10:51) [GET]
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 21ms (View: 16, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 17:10:53) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::MissingTemplate (Missing layout layouts/administrator.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 17:11:21) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/administrator
Rendering users/show
Completed in 13ms (View: 8, DB: 0) | 200 OK [http://localhost/users/1]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 17:11:27) [GET]
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 17:11:29) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Rendering template within layouts/technician
Rendering users/show
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/users/4]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 18:15:35) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Rendering template within layouts/technician
Rendering users/show
Completed in 9ms (View: 5, DB: 0) | 200 OK [http://localhost/users/4]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 18:15:41) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Rendering template within layouts/technician
Rendering users/show
Completed in 9ms (View: 5, DB: 0) | 200 OK [http://localhost/users/4]


Processing UsersController#edit (for 127.0.0.1 at 2009-07-27 18:15:42) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Rendering template within layouts/technician
Rendering users/edit
Rendered users/_form (2.1ms)
Completed in 14ms (View: 9, DB: 0) | 200 OK [http://localhost/users/4/edit]


Processing UsersController#new (for 127.0.0.1 at 2009-07-27 18:23:29) [GET]
Rendering users/new
Rendered users/_form (1.1ms)
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-07-27 18:24:58) [GET]
Rendering users/new

ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #9 of app/views/users/_form.html.erb:
6:   </p>
7:   <p>
8:     <%= f.label :role %><br />
9:     <%= f.select User::ROLES %>
10:   </p>
11:   <p><%= f.submit "Submit" %></p>
12: <% end %>

    app/views/users/_form.html.erb:9:in `select'
    app/views/users/_form.html.erb:9
    app/views/users/_form.html.erb:2
    app/views/users/new.html.erb:3

Rendered rescues/_trace (43.2ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-07-27 18:25:32) [GET]
Rendering users/new
Rendered users/_form (3.1ms)
Completed in 37ms (View: 8, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-07-27 18:26:14) [GET]
Rendering users/new
Rendered users/_form (1.1ms)
Completed in 6ms (View: 2, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-07-27 18:26:19) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (1.8ms)
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 18:26:22) [GET]
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM "users" [0m

NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.role):
  app/controllers/users_controller.rb:49:in `for_user'

Rendered rescues/_trace (97.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 18:27:04) [GET]
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" [0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.any?):
  app/controllers/users_controller.rb:49:in `for_user'

Rendered rescues/_trace (31.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2009-07-27 18:27:46) [GET]

SyntaxError (/Users/miky/code/convergent/maintenance/app/controllers/users_controller.rb:54: syntax error, unexpected $end, expecting kEND):
  

Rendered rescues/_trace (24.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 18:27:51) [GET]
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 6, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-07-27 18:27:56) [GET]
Rendering users/new
Rendered users/_form (1.1ms)
Completed in 6ms (View: 2, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-07-27 18:28:41) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (1.1ms)
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-07-27 18:29:10) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (1.2ms)
Completed in 72ms (View: 3, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 18:29:11) [GET]
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 18:29:13) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/administrator
Rendering users/show
Completed in 11ms (View: 5, DB: 0) | 200 OK [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 18:29:36) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
Rendering template within layouts/technician
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/3]


Processing UsersController#edit (for 127.0.0.1 at 2009-07-27 18:29:41) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 6) [0m
Rendering template within layouts/client
Rendering users/edit
Rendered users/_form (1.4ms)
Completed in 12ms (View: 6, DB: 0) | 200 OK [http://localhost/users/6/edit]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 18:29:44) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 6, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-07-27 18:29:46) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (1.1ms)
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 18:29:49) [GET]
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 6, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 18:36:43) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" [0m

NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.respond_to):
  app/controllers/users_controller.rb:49:in `for_user'

Rendered rescues/_trace (94.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 18:36:54) [GET]
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 12ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 18:37:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/administrator
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/1]


Processing UsersController#edit (for 127.0.0.1 at 2009-07-27 18:37:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/administrator
Rendering users/edit
Rendered users/_form (1.4ms)
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#edit (for 127.0.0.1 at 2009-07-27 18:50:53) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/administrator
Rendering users/edit
Rendered users/_form (2.2ms)
Completed in 30ms (View: 6, DB: 0) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 18:50:55) [GET]
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-27 18:51:01) [GET]
  [4;35;1mMaintenance Load (1.0ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;36;1mEquipment Load (0.5ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
  [4;35;1mEquipment Load (0.4ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 2) [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) AND ("users"."role" = 'technician') [0m
Completed in 148ms (View: 104, DB: 3) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#new (for 127.0.0.1 at 2009-07-27 18:51:03) [GET]
Rendering template within layouts/application
Rendering maintenances/new
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.5ms)[0m   [0mSELECT * FROM "equipment" [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m
Rendered maintenances/_form (224.9ms)
Completed in 237ms (View: 229, DB: 1) | 200 OK [http://localhost/maintenances/new]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-27 18:51:05) [GET]
  [4;35;1mMaintenance Load (0.9ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;36;1mEquipment Load (0.2ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 2) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) AND ("users"."role" = 'technician') [0m
Completed in 30ms (View: 21, DB: 2) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-27 18:57:37) [GET]
  [4;36;1mMaintenance Load (0.7ms)[0m   [0;1mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 2) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) AND ("users"."role" = 'technician') [0m
Completed in 27ms (View: 21, DB: 2) | 200 OK [http://localhost/maintenances]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 18:57:42) [GET]
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 18:57:44) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/secretary
Rendering users/show
Completed in 54ms (View: 50, DB: 0) | 200 OK [http://localhost/users/2]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 18:58:11) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/secretary
Rendering users/show
Completed in 9ms (View: 5, DB: 0) | 200 OK [http://localhost/users/2]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 18:58:27) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/secretary
Rendering users/show
Completed in 10ms (View: 6, DB: 0) | 200 OK [http://localhost/users/2]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 18:58:28) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/secretary
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/2]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 18:58:40) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/secretary
Rendering users/show
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/users/2]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 18:58:42) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/secretary
Rendering users/show
Completed in 8ms (View: 2, DB: 0) | 200 OK [http://localhost/users/2]


Processing UsersController#edit (for 127.0.0.1 at 2009-07-27 18:58:44) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/secretary
Rendering users/edit
Rendered users/_form (1.3ms)
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/users/2/edit]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 18:58:45) [GET]
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 6, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 18:58:47) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/secretary
Rendering users/show
Completed in 9ms (View: 3, DB: 0) | 200 OK [http://localhost/users/2]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 18:58:49) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 6, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 18:58:50) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Rendering template within layouts/technician
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/4]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 18:58:51) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2009-07-27 18:58:52) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 6) [0m
Rendering template within layouts/client
Rendering users/edit
Rendered users/_form (63.3ms)
Completed in 71ms (View: 66, DB: 0) | 200 OK [http://localhost/users/6/edit]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 18:58:54) [GET]
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 18:58:55) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/users/5]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 18:58:57) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 13ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 18:58:59) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/7]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 18:59:01) [GET]
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 12ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 19:51:53) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Rendering template within layouts/technician
Rendering users/show
Completed in 46ms (View: 8, DB: 0) | 200 OK [http://localhost/users/4]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 19:51:55) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 19:51:56) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/show
Completed in 6ms (View: 2, DB: 0) | 200 OK [http://localhost/users/7]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 19:52:26) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/show
Completed in 9ms (View: 5, DB: 0) | 200 OK [http://localhost/users/7]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 19:52:51) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/show

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #4 of app/views/users/show.html.erb:
1: <% title "#{@user.role} #{@user.name}" %>
2: 
3: <p>
4:   <strong><%=h  %></strong>
5:   
6: </p>
7: 

    app/views/users/show.html.erb:4:in `h'
    app/views/users/show.html.erb:4

Rendered rescues/_trace (34.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 19:53:03) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/show
Completed in 9ms (View: 5, DB: 0) | 200 OK [http://localhost/users/7]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 19:53:09) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/show
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/users/7]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 19:53:13) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/show
Completed in 9ms (View: 5, DB: 0) | 200 OK [http://localhost/users/7]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 19:53:18) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 13ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 19:53:19) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/secretary
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/2]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 19:53:21) [GET]
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 19:53:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/administrator
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/1]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 19:53:25) [GET]
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:02:12) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/administrator
Rendering users/show
Completed in 12ms (View: 6, DB: 0) | 200 OK [http://localhost/users/1]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 20:02:14) [GET]
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 12ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:02:16) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Rendering template within layouts/technician
Rendering users/show
Completed in 8ms (View: 2, DB: 0) | 200 OK [http://localhost/users/4]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 20:02:17) [GET]
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:05:29) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/administrator
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/1]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 20:05:31) [GET]
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:05:33) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/5]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:08:26) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show

ActionView::TemplateError (undefined method `equipment' for #<User:0x19ef038>) on line #31 of app/views/users/show.html.erb:
28: 
29: <!--  -->
30: <% client_area @user do %>
31:   <% if !@user.equipment.blank? %>
32:         <ul>
33:     <% for equipment in @user.equipment %>
34:             <li><%= equipment %></li>

    app/views/users/show.html.erb:31
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (101.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:08:43) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show

ActionView::TemplateError (undefined method `equipment' for #<User:0x235e934>) on line #31 of app/views/users/show.html.erb:
28: 
29: <!--  -->
30: <% client_area @user do %>
31:   <% if !@user.equipment.blank? %>
32:         <ul>
33:     <% for equipment in @user.equipment %>
34:             <li><%= equipment %></li>

    app/views/users/show.html.erb:31
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (35.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:08:46) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show

ActionView::TemplateError (undefined method `equipment' for #<User:0x2079d68>) on line #31 of app/views/users/show.html.erb:
28: 
29: <!--  -->
30: <% client_area @user do %>
31:   <% if !@user.equipment.blank? %>
32:         <ul>
33:     <% for equipment in @user.equipment %>
34:             <li><%= equipment %></li>

    app/views/users/show.html.erb:31
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (103.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 20:23:45) [GET]
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 18ms (View: 11, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:23:46) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show

ActionView::TemplateError (no block given) on line #31 of app/views/users/show.html.erb:
28: 
29: <!--  -->
30: <% client_area @user do %>
31:   <% @client = classify_from_role(@user) %>
32:   <%= debug @client %>
33:   <% if !@client.equipment.blank? %>
34:         <ul>

    app/helpers/users_helper.rb:19:in `each'
    app/helpers/users_helper.rb:19:in `find'
    app/helpers/users_helper.rb:19:in `classify_from_role'
    app/views/users/show.html.erb:31
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (36.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:26:35) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show

ActionView::TemplateError (no block given) on line #31 of app/views/users/show.html.erb:
28: 
29: <!--  -->
30: <% client_area @user do %>
31:   <% @client = classify_from_role(@user) %>
32:   <%= debug @client %>
33:   <% if !@client.equipment.blank? %>
34:         <ul>

    app/helpers/users_helper.rb:19:in `each'
    app/helpers/users_helper.rb:19:in `find'
    app/helpers/users_helper.rb:19:in `classify_from_role'
    app/views/users/show.html.erb:31
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (37.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:26:36) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show

ActionView::TemplateError (no block given) on line #31 of app/views/users/show.html.erb:
28: 
29: <!--  -->
30: <% client_area @user do %>
31:   <% @client = classify_from_role(@user) %>
32:   <%= debug @client %>
33:   <% if !@client.equipment.blank? %>
34:         <ul>

    app/helpers/users_helper.rb:19:in `each'
    app/helpers/users_helper.rb:19:in `find'
    app/helpers/users_helper.rb:19:in `classify_from_role'
    app/views/users/show.html.erb:31
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (37.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:26:39) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show

ActionView::TemplateError (no block given) on line #31 of app/views/users/show.html.erb:
28: 
29: <!--  -->
30: <% client_area @user do %>
31:   <% @client = classify_from_role(@user) %>
32:   <%= debug @client %>
33:   <% if !@client.equipment.blank? %>
34:         <ul>

    app/helpers/users_helper.rb:19:in `each'
    app/helpers/users_helper.rb:19:in `find'
    app/helpers/users_helper.rb:19:in `classify_from_role'
    app/views/users/show.html.erb:31
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (37.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:27:20) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show

ActionView::TemplateError (undefined method `equipment' for "Client":String) on line #33 of app/views/users/show.html.erb:
30: <% client_area @user do %>
31:   <% @client = classify_from_role(@user) %>
32:   <%= debug @client %>
33:   <% if !@client.equipment.blank? %>
34:         <ul>
35:     <% for equipment in @client.equipment %>
36:             <li><%= equipment %></li>

    app/views/users/show.html.erb:33
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (35.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:27:21) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show

ActionView::TemplateError (undefined method `equipment' for "Client":String) on line #33 of app/views/users/show.html.erb:
30: <% client_area @user do %>
31:   <% @client = classify_from_role(@user) %>
32:   <%= debug @client %>
33:   <% if !@client.equipment.blank? %>
34:         <ul>
35:     <% for equipment in @client.equipment %>
36:             <li><%= equipment %></li>

    app/views/users/show.html.erb:33
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (36.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:27:27) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show

ActionView::TemplateError (undefined method `equipment' for "Client":String) on line #33 of app/views/users/show.html.erb:
30: <% client_area @user do %>
31:   <% @client = classify_from_role(@user) %>
32:   <%= debug @client %>
33:   <!-- <% if !@client.equipment.blank? %>
34:         <ul>
35:     <% for equipment in @client.equipment %>
36:             <li><%= equipment %></li>

    app/views/users/show.html.erb:33
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (35.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:28:06) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/users/5]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:28:28) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
Completed in 76ms (View: 72, DB: 0) | 200 OK [http://localhost/users/5]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:29:55) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show

ActionView::TemplateError (no block given) on line #34 of app/views/users/show.html.erb:
31:   <% @client = classify_from_role(@user) %>
32:   <%= debug @client %>
33:   <%= debug @user.id %>
34:   <%= debug @client.classify.find @user.id %>
35:   <%# if !@client.equipment.blank? %>
36:         <ul>
37:     <%# for equipment in @client.equipment %>

    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34:in `find'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (36.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:30:04) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show

ActionView::TemplateError (no block given) on line #34 of app/views/users/show.html.erb:
31:   <% @client = classify_from_role(@user) %>
32:   <%= debug @client %>
33:   <%= debug @user.id %>
34:   <%= debug @client.find @user.id %>
35:   <%# if !@client.equipment.blank? %>
36:         <ul>
37:     <%# for equipment in @client.equipment %>

    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34:in `find'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (103.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:30:17) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show

ActionView::TemplateError (no block given) on line #34 of app/views/users/show.html.erb:
31:   <% @client = classify_from_role(@user) %>
32:   <%= debug @client %>
33:   <%= debug @user.id %>
34:   <%= debug @client.find(@user.id) %>
35:   <%# if !@client.equipment.blank? %>
36:         <ul>
37:     <%# for equipment in @client.equipment %>

    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34:in `find'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (36.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:30:21) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/users/5]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:32:08) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined method `each' for #<Class:0x204016c>) on line #36 of app/views/users/show.html.erb:
33:   <%= debug @user.id %>
34:   <% if !@client.equipment.blank? %>
35:         <ul>
36:     <% for equipment in @client.equipment %>
37:            <li><%#= equipment %></li>
38:     <% end %>
39:         </ul>

    app/views/users/show.html.erb:36
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (39.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:32:23) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
ERROR: compiling _run_erb_app47views47users47show46html46erb RAISED compile error
/Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:36: syntax error, unexpected ';'
...ipment in @client.equipment* ; @output_buffer.concat "\n"
                              ^
/Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:40: syntax error, unexpected kELSE, expecting kEND
@output_buffer.concat "  ";  else ; @output_buffer.concat "\n"
                                 ^
/Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:57: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47users47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  title "#{@user.role.titleize}: #{@user.name}" ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<!--  -->\n"
 administrator_area @user do ; @output_buffer.concat "\n"
@output_buffer.concat "  <p>Create user</p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<!--  -->\n"
 secretary_area @user do  ; @output_buffer.concat "\n"
@output_buffer.concat "<p>vede gli interventi programmati in arrivo</p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>vede gli interventi da marcare come conclusi</p>\n"
@output_buffer.concat "<p>puo\342\200\231 marcare un intervento come concluso</p>\n"
@output_buffer.concat "<p>vede le nuove richieste di intervento</p>\n"
@output_buffer.concat "<p>vede la voce degli interventi eseguiti</p>\n"
@output_buffer.concat "<p>puo\342\200\231 modificare i dati di un intervento tecnico</p>\n"
@output_buffer.concat "<p>puo\342\200\231 creare un cliente</p>\n"
@output_buffer.concat "<p>puo\342\200\231 creare gli impianti in assistenza per un cliente</p>\n"
@output_buffer.concat "<p>puo\342\200\231 assegnare un impianto in assistenza ad un cliente</p>\n"
@output_buffer.concat "<p>puo\342\200\231 modificare la password ad un cliente</p>\n"
@output_buffer.concat "<p>puo\342\200\231 modificare una domanda</p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<!--  -->\n"
 technician_area @user do ; @output_buffer.concat "\n"
@output_buffer.concat "  <p>Technician</p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<!--  -->\n"
 client_area @user do ; @output_buffer.concat "\n"
@output_buffer.concat "  ";  @client = classify_from_role(@user) ; @output_buffer.concat "\n"
@output_buffer.concat "  "; @output_buffer.concat(( debug @client ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  "; @output_buffer.concat(( debug @user.id ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  ";  if !@client.equipment.blank? ; @output_buffer.concat "\n"
@output_buffer.concat "        <ul>\n"
@output_buffer.concat "    ";  for equipment in @client.equipment* ; @output_buffer.concat "\n"
@output_buffer.concat "           <li>"; @output_buffer.concat "</li>\n"
@output_buffer.concat "    ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "        </ul>\n"
@output_buffer.concat "  ";  else ; @output_buffer.concat "\n"
@output_buffer.concat "    <strong>No equipment found</strong>\n"
@output_buffer.concat "  ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "  <p>see equipments serviced by maintenance</p>\n"
@output_buffer.concat "  <p>pending maintenances for each equipment ordered by nearest</p>\n"
@output_buffer.concat "  <p>executed maintenances for each equipment ordered by most recent</p>\n"
@output_buffer.concat "  <p>propose a scheduled maintenance</p>\n"
@output_buffer.concat "  <p>propose new date for a scheduled maintenance</p>\n"
@output_buffer.concat "  <p>can change personal information</p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  "; @output_buffer.concat(( link_to "Edit", edit_user_path(@user) ).to_s); @output_buffer.concat " | "; @output_buffer.concat(( link_to "Back", :back ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</p>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:57:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:36: syntax error, unexpected ';'
...ipment in @client.equipment* ; @output_buffer.concat "\n"
                              ^
/Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:40: syntax error, unexpected kELSE, expecting kEND
@output_buffer.concat "  ";  else ; @output_buffer.concat "\n"
                                 ^
/Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:57: syntax error, unexpected kENSURE, expecting $end) on line #36 of app/views/users/show.html.erb:
33:   <%= debug @user.id %>
34:   <% if !@client.equipment.blank? %>
35:         <ul>
36:     <% for equipment in @client.equipment* %>
37:            <li><%#= equipment %></li>
38:     <% end %>
39:         </ul>

    app/views/users/show.html.erb:57:in `compile!'

Rendered rescues/_trace (31.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:32:31) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
ERROR: compiling _run_erb_app47views47users47show46html46erb RAISED compile error
/Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:36: syntax error, unexpected tSTAR
...at "    ";  for equipment in *@client.equipment ; @output_bu...
                              ^
/Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:36: syntax error, unexpected ';', expecting tCOLON2 or '[' or '.'
...ipment in *@client.equipment ; @output_buffer.concat "\n"
                              ^
/Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:40: syntax error, unexpected kELSE, expecting kEND
@output_buffer.concat "  ";  else ; @output_buffer.concat "\n"
                                 ^
/Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:57: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47users47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  title "#{@user.role.titleize}: #{@user.name}" ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<!--  -->\n"
 administrator_area @user do ; @output_buffer.concat "\n"
@output_buffer.concat "  <p>Create user</p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<!--  -->\n"
 secretary_area @user do  ; @output_buffer.concat "\n"
@output_buffer.concat "<p>vede gli interventi programmati in arrivo</p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>vede gli interventi da marcare come conclusi</p>\n"
@output_buffer.concat "<p>puo\342\200\231 marcare un intervento come concluso</p>\n"
@output_buffer.concat "<p>vede le nuove richieste di intervento</p>\n"
@output_buffer.concat "<p>vede la voce degli interventi eseguiti</p>\n"
@output_buffer.concat "<p>puo\342\200\231 modificare i dati di un intervento tecnico</p>\n"
@output_buffer.concat "<p>puo\342\200\231 creare un cliente</p>\n"
@output_buffer.concat "<p>puo\342\200\231 creare gli impianti in assistenza per un cliente</p>\n"
@output_buffer.concat "<p>puo\342\200\231 assegnare un impianto in assistenza ad un cliente</p>\n"
@output_buffer.concat "<p>puo\342\200\231 modificare la password ad un cliente</p>\n"
@output_buffer.concat "<p>puo\342\200\231 modificare una domanda</p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<!--  -->\n"
 technician_area @user do ; @output_buffer.concat "\n"
@output_buffer.concat "  <p>Technician</p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<!--  -->\n"
 client_area @user do ; @output_buffer.concat "\n"
@output_buffer.concat "  ";  @client = classify_from_role(@user) ; @output_buffer.concat "\n"
@output_buffer.concat "  "; @output_buffer.concat(( debug @client ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  "; @output_buffer.concat(( debug @user.id ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  ";  if !@client.equipment.blank? ; @output_buffer.concat "\n"
@output_buffer.concat "        <ul>\n"
@output_buffer.concat "    ";  for equipment in *@client.equipment ; @output_buffer.concat "\n"
@output_buffer.concat "           <li>"; @output_buffer.concat "</li>\n"
@output_buffer.concat "    ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "        </ul>\n"
@output_buffer.concat "  ";  else ; @output_buffer.concat "\n"
@output_buffer.concat "    <strong>No equipment found</strong>\n"
@output_buffer.concat "  ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "  <p>see equipments serviced by maintenance</p>\n"
@output_buffer.concat "  <p>pending maintenances for each equipment ordered by nearest</p>\n"
@output_buffer.concat "  <p>executed maintenances for each equipment ordered by most recent</p>\n"
@output_buffer.concat "  <p>propose a scheduled maintenance</p>\n"
@output_buffer.concat "  <p>propose new date for a scheduled maintenance</p>\n"
@output_buffer.concat "  <p>can change personal information</p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  "; @output_buffer.concat(( link_to "Edit", edit_user_path(@user) ).to_s); @output_buffer.concat " | "; @output_buffer.concat(( link_to "Back", :back ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</p>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:57:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:36: syntax error, unexpected tSTAR
...at "    ";  for equipment in *@client.equipment ; @output_bu...
                              ^
/Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:36: syntax error, unexpected ';', expecting tCOLON2 or '[' or '.'
...ipment in *@client.equipment ; @output_buffer.concat "\n"
                              ^
/Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:40: syntax error, unexpected kELSE, expecting kEND
@output_buffer.concat "  ";  else ; @output_buffer.concat "\n"
                                 ^
/Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:57: syntax error, unexpected kENSURE, expecting $end) on line #36 of app/views/users/show.html.erb:
33:   <%= debug @user.id %>
34:   <% if !@client.equipment.blank? %>
35:         <ul>
36:     <% for equipment in *@client.equipment %>
37:            <li><%#= equipment %></li>
38:     <% end %>
39:         </ul>

    app/views/users/show.html.erb:57:in `compile!'

Rendered rescues/_trace (33.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:32:39) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
Completed in 25ms (View: 20, DB: 1) | 200 OK [http://localhost/users/5]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:32:48) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
Completed in 25ms (View: 20, DB: 1) | 200 OK [http://localhost/users/5]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:33:21) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.4ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
Completed in 90ms (View: 85, DB: 1) | 200 OK [http://localhost/users/5]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:33:55) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.4ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
Completed in 26ms (View: 21, DB: 1) | 200 OK [http://localhost/users/5]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:34:06) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
Completed in 24ms (View: 19, DB: 1) | 200 OK [http://localhost/users/5]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:35:13) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.4ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
Completed in 82ms (View: 77, DB: 1) | 200 OK [http://localhost/users/5]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:36:28) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
Completed in 26ms (View: 21, DB: 1) | 200 OK [http://localhost/users/5]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:37:20) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
Completed in 39ms (View: 20, DB: 1) | 200 OK [http://localhost/users/5]


Processing UsersController#edit (for 127.0.0.1 at 2009-07-27 20:37:32) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/edit
Rendered users/_form (1.3ms)
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/users/5/edit]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 20:37:44) [GET]
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:38:04) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.4ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
Completed in 89ms (View: 84, DB: 1) | 200 OK [http://localhost/users/5]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 20:38:06) [GET]
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 20:38:28) [GET]
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2009-07-27 20:38:29) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Rendering template within layouts/technician
Rendering users/edit
Rendered users/_form (1.4ms)
Completed in 10ms (View: 6, DB: 0) | 200 OK [http://localhost/users/4/edit]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 20:38:31) [GET]
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:38:32) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 7)) [0m
Completed in 20ms (View: 15, DB: 1) | 200 OK [http://localhost/users/7]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 20:38:34) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 13ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:38:36) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.4ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 7)) [0m
Completed in 82ms (View: 77, DB: 1) | 200 OK [http://localhost/users/7]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 20:38:37) [GET]
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:38:38) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.2ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 8)) [0m
Completed in 19ms (View: 14, DB: 1) | 200 OK [http://localhost/users/8]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 20:38:40) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2009-07-27 20:38:42) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/edit
Rendered users/_form (1.3ms)
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/users/7/edit]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 20:38:43) [GET]
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 6, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:38:51) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/administrator
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/1]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 20:38:52) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:38:54) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
Rendering template within layouts/technician
Rendering users/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users/3]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 20:38:56) [GET]
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:38:58) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.4ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
Completed in 22ms (View: 16, DB: 1) | 200 OK [http://localhost/users/5]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 20:39:26) [GET]
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 20:40:03) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 7)) [0m
Completed in 20ms (View: 15, DB: 1) | 200 OK [http://localhost/users/7]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:34:34) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 7)) [0m
Completed in 24ms (View: 19, DB: 1) | 200 OK [http://localhost/users/7]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:36:54) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 7)) [0m

ActionView::TemplateError (undefined local variable or method `equipment' for #<ActionView::Base:0x20e48e8>) on line #36 of app/views/users/show.html.erb:
33:     <h3>Equipments</h3>
34:     <% for equipment in [@client.equipment] %>
35:           <h4><%= equipment.name %></h4>
36:           <% if !pending_maintenances.blank? %>
37:             <% for item in pending_maintenances %>
38:               <%= item %>
39:             <% end %>

    app/helpers/users_helper.rb:23:in `pending_maintenances'
    app/views/users/show.html.erb:36
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (36.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:40:57) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 7)) [0m
  [4;36;1mMaintenance Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such column: maintenances.order: SELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 2) AND (((("maintenances"."completed" = 'f' AND "maintenances"."order" = 'accepted DESC, ' AND "maintenances"."accepted" = 't')) AND (scheduled_date_at < '2009-07-27 21:40:57')) AND (("maintenances"."order" = 'accepted DESC, ') AND ("maintenances".equipment_id = 2))) [0m

ActionView::TemplateError (SQLite3::SQLException: no such column: maintenances.order: SELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 2) AND (((("maintenances"."completed" = 'f' AND "maintenances"."order" = 'accepted DESC, ' AND "maintenances"."accepted" = 't')) AND (scheduled_date_at < '2009-07-27 21:40:57')) AND (("maintenances"."order" = 'accepted DESC, ') AND ("maintenances".equipment_id = 2))) ) on line #36 of app/views/users/show.html.erb:
33:     <h3>Equipments</h3>
34:     <% for equipment in [@client.equipment] %>
35:           <h4><%= equipment.name %></h4>
36:           <% if !equipment.maintenances.incoming.pending.blank? %>
37:             <% for maintenance in equipment.maintenances.incoming.pending %>
38:               <%= render 'maintenance' %>
39:             <% end %>

    app/views/users/show.html.erb:36
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (56.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:41:19) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 7)) [0m
  [4;36;1mMaintenance Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such column: maintenances.order: SELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 2) AND (((("maintenances"."completed" = 'f' AND "maintenances"."order" = 'accepted DESC' AND "maintenances"."accepted" = 't')) AND (scheduled_date_at < '2009-07-27 21:41:19')) AND (("maintenances"."order" = 'accepted DESC') AND ("maintenances".equipment_id = 2))) [0m

ActionView::TemplateError (SQLite3::SQLException: no such column: maintenances.order: SELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 2) AND (((("maintenances"."completed" = 'f' AND "maintenances"."order" = 'accepted DESC' AND "maintenances"."accepted" = 't')) AND (scheduled_date_at < '2009-07-27 21:41:19')) AND (("maintenances"."order" = 'accepted DESC') AND ("maintenances".equipment_id = 2))) ) on line #36 of app/views/users/show.html.erb:
33:     <h3>Equipments</h3>
34:     <% for equipment in [@client.equipment] %>
35:           <h4><%= equipment.name %></h4>
36:           <% if !equipment.maintenances.incoming.pending.blank? %>
37:             <% for maintenance in equipment.maintenances.incoming.pending %>
38:               <%= render 'maintenance' %>
39:             <% end %>

    app/views/users/show.html.erb:36
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (123.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:41:35) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 7)) [0m
  [4;36;1mMaintenance Load (0.2ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 2) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:41:35')) AND ("maintenances".equipment_id = 2)) [0m
Completed in 22ms (View: 17, DB: 1) | 200 OK [http://localhost/users/7]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 21:41:42) [GET]
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 18ms (View: 11, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:41:44) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.5ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;35;1mMaintenance Load (0.5ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:41:44')) AND ("maintenances".equipment_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:41:44')) AND ("maintenances".equipment_id = 1)) [0m

ActionView::TemplateError (Missing template users/_maintenance.erb in view path app/views) on line #38 of app/views/users/show.html.erb:
35:           <h4><%= equipment.name %></h4>
36:           <% if !equipment.maintenances.incoming.pending.blank? %>
37:             <% for maintenance in equipment.maintenances.incoming.pending %>
38:               <%= render 'maintenance' %>
39:             <% end %>
40:           <% else %>
41:             

    app/views/users/show.html.erb:38
    app/views/users/show.html.erb:37
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (40.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:42:07) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.4ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:42:07')) AND ("maintenances".equipment_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:42:07')) AND ("maintenances".equipment_id = 1)) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.service_type) on line #3 of app/views/users/_maintenance.html.erb:
1: <p>
2:   <strong>Service Type:</strong>
3:   <%=h maintenance.service_type %>
4: </p>
5: <p>
6:   <strong>Scheduled Date At:</strong>

    app/views/users/_maintenance.html.erb:3
    app/views/users/show.html.erb:38
    app/views/users/show.html.erb:37
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (113.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:42:40) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:42:40')) AND ("maintenances".equipment_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:42:40')) AND ("maintenances".equipment_id = 1)) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.service_type) on line #3 of app/views/users/_maintenance.html.erb:
1: <p>
2:   <strong>Service Type:</strong>
3:   <%=h maintenance.service_type %>
4: </p>
5: <p>
6:   <strong>Scheduled Date At:</strong>

    app/views/users/_maintenance.html.erb:3
    app/views/users/show.html.erb:38
    app/views/users/show.html.erb:37
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (110.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:42:41) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:42:41')) AND ("maintenances".equipment_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:42:41')) AND ("maintenances".equipment_id = 1)) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.service_type) on line #3 of app/views/users/_maintenance.html.erb:
1: <p>
2:   <strong>Service Type:</strong>
3:   <%=h maintenance.service_type %>
4: </p>
5: <p>
6:   <strong>Scheduled Date At:</strong>

    app/views/users/_maintenance.html.erb:3
    app/views/users/show.html.erb:38
    app/views/users/show.html.erb:37
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (44.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:42:41) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.4ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;35;1mMaintenance Load (0.4ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:42:41')) AND ("maintenances".equipment_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:42:41')) AND ("maintenances".equipment_id = 1)) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.service_type) on line #3 of app/views/users/_maintenance.html.erb:
1: <p>
2:   <strong>Service Type:</strong>
3:   <%=h maintenance.service_type %>
4: </p>
5: <p>
6:   <strong>Scheduled Date At:</strong>

    app/views/users/_maintenance.html.erb:3
    app/views/users/show.html.erb:38
    app/views/users/show.html.erb:37
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (46.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:42:42) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.4ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;36;1mMaintenance Load (0.5ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:42:42')) AND ("maintenances".equipment_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:42:42')) AND ("maintenances".equipment_id = 1)) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.service_type) on line #3 of app/views/users/_maintenance.html.erb:
1: <p>
2:   <strong>Service Type:</strong>
3:   <%=h maintenance.service_type %>
4: </p>
5: <p>
6:   <strong>Scheduled Date At:</strong>

    app/views/users/_maintenance.html.erb:3
    app/views/users/show.html.erb:38
    app/views/users/show.html.erb:37
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (47.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:42:55) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:42:55')) AND ("maintenances".equipment_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:42:55')) AND ("maintenances".equipment_id = 1)) [0m

ActionView::TemplateError (Missing template maintenances/_maintenance.erb in view path app/views) on line #38 of app/views/users/show.html.erb:
35:           <h4><%= equipment.name %></h4>
36:           <% if !equipment.maintenances.incoming.pending.blank? %>
37:             <% for maintenance in equipment.maintenances.incoming.pending %>
38:               <%= render maintenance %>
39:             <% end %>
40:           <% else %>
41:             

    app/views/users/show.html.erb:38
    app/views/users/show.html.erb:37
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (108.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:43:17) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;36;1mMaintenance Load (0.4ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:43:17')) AND ("maintenances".equipment_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:43:17')) AND ("maintenances".equipment_id = 1)) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.service_type) on line #3 of app/views/users/_maintenance.html.erb:
1: <p>
2:   <strong>Service Type:</strong>
3:   <%=h maintenance.service_type %>
4: </p>
5: <p>
6:   <strong>Scheduled Date At:</strong>

    app/views/users/_maintenance.html.erb:3
    app/views/users/show.html.erb:38
    app/views/users/show.html.erb:37
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (44.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:43:25) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;35;1mMaintenance Load (0.4ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:43:25')) AND ("maintenances".equipment_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:43:25')) AND ("maintenances".equipment_id = 1)) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.service_type) on line #3 of app/views/users/_maintenance.html.erb:
1: <p>
2:   <strong>Service Type:</strong>
3:   <%=h maintenance.service_type %>
4: </p>
5: <p>
6:   <strong>Scheduled Date At:</strong>

    app/views/users/_maintenance.html.erb:3
    app/views/users/show.html.erb:38
    app/views/users/show.html.erb:37
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (44.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:43:53) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.4ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;36;1mMaintenance Load (0.4ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:43:53')) AND ("maintenances".equipment_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:43:53')) AND ("maintenances".equipment_id = 1)) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.service_type) on line #3 of app/views/users/_maintenance.html.erb:
1: <p>
2:   <strong>Service Type:</strong>
3:   <%=h maintenance.service_type %>
4: </p>
5: <p>
6:   <strong>Scheduled Date At:</strong>

    app/views/users/_maintenance.html.erb:3
    app/views/users/show.html.erb:38
    app/views/users/show.html.erb:37
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (44.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:43:54) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:43:54')) AND ("maintenances".equipment_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:43:54')) AND ("maintenances".equipment_id = 1)) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.service_type) on line #3 of app/views/users/_maintenance.html.erb:
1: <p>
2:   <strong>Service Type:</strong>
3:   <%=h maintenance.service_type %>
4: </p>
5: <p>
6:   <strong>Scheduled Date At:</strong>

    app/views/users/_maintenance.html.erb:3
    app/views/users/show.html.erb:38
    app/views/users/show.html.erb:37
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (112.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:44:08) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:44:08')) AND ("maintenances".equipment_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:44:08')) AND ("maintenances".equipment_id = 1)) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.service_type) on line #3 of app/views/users/_maintenance.html.erb:
1: <p>
2:   <strong>Service Type:</strong>
3:   <%=h maintenance.service_type %>
4: </p>
5: <p>
6:   <strong>Scheduled Date At:</strong>

    app/views/users/_maintenance.html.erb:3
    app/views/users/show.html.erb:38
    app/views/users/show.html.erb:37
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (112.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:44:15) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
ERROR: compiling _run_erb_app47views47users47show46html46erb RAISED compile error
/Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:38: odd number list for Hash
...nce', :locals => {maintenance}).to_s); @output_buffer.concat...
                              ^
Function body:           def _run_erb_app47views47users47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  title "#{@user.role.titleize}: #{@user.name}" ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<!--  -->\n"
 administrator_area @user do ; @output_buffer.concat "\n"
@output_buffer.concat "  <p>Create user</p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<!--  -->\n"
 secretary_area @user do  ; @output_buffer.concat "\n"
@output_buffer.concat "<p>vede gli interventi programmati in arrivo</p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>vede gli interventi da marcare come conclusi</p>\n"
@output_buffer.concat "<p>puo\342\200\231 marcare un intervento come concluso</p>\n"
@output_buffer.concat "<p>vede le nuove richieste di intervento</p>\n"
@output_buffer.concat "<p>vede la voce degli interventi eseguiti</p>\n"
@output_buffer.concat "<p>puo\342\200\231 modificare i dati di un intervento tecnico</p>\n"
@output_buffer.concat "<p>puo\342\200\231 creare un cliente</p>\n"
@output_buffer.concat "<p>puo\342\200\231 creare gli impianti in assistenza per un cliente</p>\n"
@output_buffer.concat "<p>puo\342\200\231 assegnare un impianto in assistenza ad un cliente</p>\n"
@output_buffer.concat "<p>puo\342\200\231 modificare la password ad un cliente</p>\n"
@output_buffer.concat "<p>puo\342\200\231 modificare una domanda</p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<!--  -->\n"
 technician_area @user do ; @output_buffer.concat "\n"
@output_buffer.concat "  <p>Technician</p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<!--  -->\n"
 client_area @user do ; @output_buffer.concat "\n"
@output_buffer.concat "  ";  @client = classify_from_role(@user) ; @output_buffer.concat "\n"
@output_buffer.concat "  ";  if !@client.equipment.blank? ; @output_buffer.concat "\n"
@output_buffer.concat "    <h3>Equipments</h3>\n"
@output_buffer.concat "    ";  for equipment in [@client.equipment] ; @output_buffer.concat "\n"
@output_buffer.concat "          <h4>"; @output_buffer.concat(( equipment.name ).to_s); @output_buffer.concat "</h4>\n"
@output_buffer.concat "          ";  if !equipment.maintenances.incoming.pending.blank? ; @output_buffer.concat "\n"
@output_buffer.concat "            ";  for @maintenance in equipment.maintenances.incoming.pending ; @output_buffer.concat "\n"
@output_buffer.concat "              "; @output_buffer.concat(( render 'maintenance', :locals => {maintenance}).to_s); @output_buffer.concat "\n"
@output_buffer.concat "            ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "          ";  else ; @output_buffer.concat "\n"
@output_buffer.concat "            \n"
@output_buffer.concat "          ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "          \n"
@output_buffer.concat "          \n"
@output_buffer.concat "          <!-- \n"
@output_buffer.concat "            equipment.maintenances.incoming.pending\n"
@output_buffer.concat "            equipment.maintenances.executed \n"
@output_buffer.concat "          -->\n"
@output_buffer.concat "          <!-- \n"
@output_buffer.concat "            :pending, :change_date\n"
@output_buffer.concat "            :executed \n"
@output_buffer.concat "            :proposed, :propose_new \n"
@output_buffer.concat "            :refused   \n"
@output_buffer.concat "          -->\n"
@output_buffer.concat "          \n"
@output_buffer.concat "          <p>pending maintenances ordered by nearest</p>\n"
@output_buffer.concat "          <p>executed maintenances ordered by most recent</p>\n"
@output_buffer.concat "          <p>propose a scheduled maintenance</p>\n"
@output_buffer.concat "          <p>propose new date for a scheduled maintenance</p>\n"
@output_buffer.concat "    ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "  ";  else ; @output_buffer.concat "\n"
@output_buffer.concat "    <strong>No equipment found</strong>\n"
@output_buffer.concat "  ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "  \n"
@output_buffer.concat "  <p>change personal information</p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  "; @output_buffer.concat(( link_to "Edit", edit_user_path(@user) ).to_s); @output_buffer.concat " | "; @output_buffer.concat(( link_to "Back", :back ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</p>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:74:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:38: odd number list for Hash
...nce', :locals => {maintenance}).to_s); @output_buffer.concat...
                              ^) on line #38 of app/views/users/show.html.erb:
35:           <h4><%= equipment.name %></h4>
36:           <% if !equipment.maintenances.incoming.pending.blank? %>
37:             <% for @maintenance in equipment.maintenances.incoming.pending %>
38:               <%= render 'maintenance', :locals => {maintenance}%>
39:             <% end %>
40:           <% else %>
41:             

    app/views/users/show.html.erb:74:in `compile!'

Rendered rescues/_trace (32.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:44:40) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:44:40')) AND ("maintenances".equipment_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:44:40')) AND ("maintenances".equipment_id = 1)) [0m

ActionView::TemplateError (Missing template maintenances/_maintenance.erb in view path app/views) on line #38 of app/views/users/show.html.erb:
35:           <h4><%= equipment.name %></h4>
36:           <% if !equipment.maintenances.incoming.pending.blank? %>
37:             <% for @maintenance in equipment.maintenances.incoming.pending %>
38:               <%= render @maintenance %>
39:             <% end %>
40:           <% else %>
41:             

    app/views/users/show.html.erb:38
    app/views/users/show.html.erb:37
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (41.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:45:09) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:45:09')) AND ("maintenances".equipment_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:45:09')) AND ("maintenances".equipment_id = 1)) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.service_type) on line #3 of app/views/users/_maintenance.html.erb:
1: <p>
2:   <strong>Service Type:</strong>
3:   <%=h maintenance.service_type %>
4: </p>
5: <p>
6:   <strong>Scheduled Date At:</strong>

    app/views/users/_maintenance.html.erb:3
    app/views/users/show.html.erb:38
    app/views/users/show.html.erb:37
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (111.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:45:21) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.4ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:45:21')) AND ("maintenances".equipment_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:45:21')) AND ("maintenances".equipment_id = 1)) [0m
Rendered users/_maintenance (0.6ms)
Completed in 28ms (View: 22, DB: 1) | 200 OK [http://localhost/users/5]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:45:44) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;35;1mMaintenance Load (0.4ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:45:44')) AND ("maintenances".equipment_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:45:44')) AND ("maintenances".equipment_id = 1)) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.service_type) on line #3 of app/views/users/_maintenance.html.erb:
1: <p>
2:   <strong>Service Type:</strong>
3:   <%=h maintenance.service_type %>
4: </p>
5: <p>
6:   <strong>Scheduled Date At:</strong>

    app/views/users/_maintenance.html.erb:3
    app/views/users/show.html.erb:38
    app/views/users/show.html.erb:37
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (110.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:45:59) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;36;1mMaintenance Load (0.4ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:45:59')) AND ("maintenances".equipment_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:45:59')) AND ("maintenances".equipment_id = 1)) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.service_type) on line #3 of app/views/users/_maintenance.html.erb:
1: <p>
2:   <strong>Service Type:</strong>
3:   <%=h maintenance.service_type %>
4: </p>
5: <p>
6:   <strong>Scheduled Date At:</strong>

    app/views/users/_maintenance.html.erb:3
    app/views/users/show.html.erb:38
    app/views/users/show.html.erb:37
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (110.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:47:58) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
ERROR: compiling _run_erb_app47views47users47show46html46erb RAISED compile error
/Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:38: syntax error, unexpected ')'
...maintenance', :collection => ).to_s); @output_buffer.concat ...
                              ^
Function body:           def _run_erb_app47views47users47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  title "#{@user.role.titleize}: #{@user.name}" ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<!--  -->\n"
 administrator_area @user do ; @output_buffer.concat "\n"
@output_buffer.concat "  <p>Create user</p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<!--  -->\n"
 secretary_area @user do  ; @output_buffer.concat "\n"
@output_buffer.concat "<p>vede gli interventi programmati in arrivo</p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>vede gli interventi da marcare come conclusi</p>\n"
@output_buffer.concat "<p>puo\342\200\231 marcare un intervento come concluso</p>\n"
@output_buffer.concat "<p>vede le nuove richieste di intervento</p>\n"
@output_buffer.concat "<p>vede la voce degli interventi eseguiti</p>\n"
@output_buffer.concat "<p>puo\342\200\231 modificare i dati di un intervento tecnico</p>\n"
@output_buffer.concat "<p>puo\342\200\231 creare un cliente</p>\n"
@output_buffer.concat "<p>puo\342\200\231 creare gli impianti in assistenza per un cliente</p>\n"
@output_buffer.concat "<p>puo\342\200\231 assegnare un impianto in assistenza ad un cliente</p>\n"
@output_buffer.concat "<p>puo\342\200\231 modificare la password ad un cliente</p>\n"
@output_buffer.concat "<p>puo\342\200\231 modificare una domanda</p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<!--  -->\n"
 technician_area @user do ; @output_buffer.concat "\n"
@output_buffer.concat "  <p>Technician</p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<!--  -->\n"
 client_area @user do ; @output_buffer.concat "\n"
@output_buffer.concat "  ";  @client = classify_from_role(@user) ; @output_buffer.concat "\n"
@output_buffer.concat "  ";  if !@client.equipment.blank? ; @output_buffer.concat "\n"
@output_buffer.concat "    <h3>Equipments</h3>\n"
@output_buffer.concat "    ";  for equipment in [@client.equipment] ; @output_buffer.concat "\n"
@output_buffer.concat "          <h4>"; @output_buffer.concat(( equipment.name ).to_s); @output_buffer.concat "</h4>\n"
@output_buffer.concat "          ";  if !equipment.maintenances.incoming.pending.blank? ; @output_buffer.concat "\n"
@output_buffer.concat "            ";  @maintenances = equipment.maintenances.incoming.pending ; @output_buffer.concat "\n"
@output_buffer.concat "            "; @output_buffer.concat(( render 'maintenance', :collection => ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "          ";  else ; @output_buffer.concat "\n"
@output_buffer.concat "            No scheduled maintenance. <a href=\"\">Propose New Maintenance</a>\n"
@output_buffer.concat "          ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "          \n"
@output_buffer.concat "          \n"
@output_buffer.concat "          <!-- \n"
@output_buffer.concat "            equipment.maintenances.incoming.pending\n"
@output_buffer.concat "            equipment.maintenances.executed \n"
@output_buffer.concat "          -->\n"
@output_buffer.concat "          <!-- \n"
@output_buffer.concat "            :pending, :change_date\n"
@output_buffer.concat "            :executed \n"
@output_buffer.concat "            :proposed, :propose_new \n"
@output_buffer.concat "            :refused   \n"
@output_buffer.concat "          -->\n"
@output_buffer.concat "          \n"
@output_buffer.concat "          <p>pending maintenances ordered by nearest</p>\n"
@output_buffer.concat "          <p>executed maintenances ordered by most recent</p>\n"
@output_buffer.concat "          <p>propose a scheduled maintenance</p>\n"
@output_buffer.concat "          <p>propose new date for a scheduled maintenance</p>\n"
@output_buffer.concat "    ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "  ";  else ; @output_buffer.concat "\n"
@output_buffer.concat "    <strong>No equipment found</strong>\n"
@output_buffer.concat "  ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "  \n"
@output_buffer.concat "  <p>change personal information</p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  "; @output_buffer.concat(( link_to "Edit", edit_user_path(@user) ).to_s); @output_buffer.concat " | "; @output_buffer.concat(( link_to "Back", :back ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</p>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:73:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/Users/miky/code/convergent/maintenance/app/views/users/show.html.erb:38: syntax error, unexpected ')'
...maintenance', :collection => ).to_s); @output_buffer.concat ...
                              ^) on line #38 of app/views/users/show.html.erb:
35:           <h4><%= equipment.name %></h4>
36:           <% if !equipment.maintenances.incoming.pending.blank? %>
37:             <% @maintenances = equipment.maintenances.incoming.pending %>
38:             <%= render 'maintenance', :collection => %>
39:           <% else %>
40:             No scheduled maintenance. <a href="">Propose New Maintenance</a>
41:           <% end %>

    app/views/users/show.html.erb:73:in `compile!'

Rendered rescues/_trace (32.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:48:47) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:48:47')) AND ("maintenances".equipment_id = 1)) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.service_type) on line #3 of app/views/users/_maintenance.html.erb:
1: <p>
2:   <strong>Service Type:</strong>
3:   <%=h maintenance.service_type %>
4: </p>
5: <p>
6:   <strong>Scheduled Date At:</strong>

    app/views/users/_maintenance.html.erb:3
    app/views/users/show.html.erb:38
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (109.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:49:09) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:49:09')) AND ("maintenances".equipment_id = 1)) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.service_type) on line #3 of app/views/users/_maintenance.html.erb:
1: <p>
2:   <strong>Service Type:</strong>
3:   <%=h @maintenance.service_type %>
4: </p>
5: <p>
6:   <strong>Scheduled Date At:</strong>

    app/views/users/_maintenance.html.erb:3
    app/views/users/show.html.erb:38
    app/views/users/show.html.erb:34:in `each'
    app/views/users/show.html.erb:34
    app/helpers/users_helper.rb:15:in `client_area'
    app/views/users/show.html.erb:30

Rendered rescues/_trace (109.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:49:52) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:49:52')) AND ("maintenances".equipment_id = 1)) [0m
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:49:52')) AND ("maintenances".equipment_id = 1)) [0m
Completed in 36ms (View: 30, DB: 1) | 200 OK [http://localhost/users/5]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 21:50:11) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:50:12) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 6) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 6) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.2ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 6)) [0m
Completed in 22ms (View: 17, DB: 1) | 200 OK [http://localhost/users/6]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 21:50:15) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:50:16) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 7)) [0m
  [4;35;1mMaintenance Load (0.2ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 2) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:50:16')) AND ("maintenances".equipment_id = 2)) [0m
Completed in 86ms (View: 81, DB: 1) | 200 OK [http://localhost/users/7]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:50:27) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 7)) [0m
  [4;35;1mMaintenance Load (0.2ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 2) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:50:27')) AND ("maintenances".equipment_id = 2)) [0m
Completed in 28ms (View: 22, DB: 1) | 200 OK [http://localhost/users/7]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 21:50:40) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 7)) [0m
  [4;35;1mMaintenance Load (0.2ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 2) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 21:50:40')) AND ("maintenances".equipment_id = 2)) [0m
Completed in 26ms (View: 21, DB: 1) | 200 OK [http://localhost/users/7]


Processing EquipmentsController#index (for 127.0.0.1 at 2009-07-27 21:52:52) [GET]
  [4;36;1mEquipment Load (0.9ms)[0m   [0;1mSELECT * FROM "equipment" [0m
Rendering template within layouts/application
Rendering equipments/index
Completed in 50ms (View: 43, DB: 1) | 200 OK [http://localhost/equipments]


Processing EquipmentsController#show (for 127.0.0.1 at 2009-07-27 21:52:55) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 2) [0m
Rendering template within layouts/application
Rendering equipments/show
Completed in 24ms (View: 19, DB: 0) | 200 OK [http://localhost/equipments/2]


Processing EquipmentsController#index (for 127.0.0.1 at 2009-07-27 21:53:09) [GET]
  [4;36;1mEquipment Load (0.7ms)[0m   [0;1mSELECT * FROM "equipment" [0m
Rendering template within layouts/application
Rendering equipments/index
Completed in 11ms (View: 5, DB: 1) | 200 OK [http://localhost/equipments]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-27 21:53:17) [GET]
  [4;35;1mMaintenance Load (0.7ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;36;1mEquipment Load (0.2ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 2) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) AND ("users"."role" = 'technician') [0m
Completed in 28ms (View: 21, DB: 2) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-27 21:53:22) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 2) [0m
Rendering template within layouts/application
Rendering maintenances/show
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 2) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) AND ("users"."role" = 'technician') [0m
Completed in 29ms (View: 21, DB: 1) | 200 OK [http://localhost/maintenances/2]


Processing MaintenancesController#edit (for 127.0.0.1 at 2009-07-27 21:53:25) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 2) [0m
Rendering template within layouts/application
Rendering maintenances/edit
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.6ms)[0m   [0;1mSELECT * FROM "equipment" [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m
Rendered maintenances/_form (32.7ms)
Completed in 63ms (View: 55, DB: 2) | 200 OK [http://localhost/maintenances/2/edit]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-27 21:53:30) [GET]
  [4;36;1mMaintenance Load (0.6ms)[0m   [0;1mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 2) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) AND ("users"."role" = 'technician') [0m
Completed in 88ms (View: 81, DB: 2) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-27 21:54:09) [GET]
  [4;35;1mMaintenance Load (0.7ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;36;1mEquipment Load (0.2ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 2) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) AND ("users"."role" = 'technician') [0m
Completed in 29ms (View: 22, DB: 2) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-27 21:54:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/show
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 25ms (View: 18, DB: 1) | 200 OK [http://localhost/maintenances/1]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-27 21:54:15) [GET]
  [4;36;1mMaintenance Load (0.6ms)[0m   [0;1mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
  [4;36;1mEquipment Load (0.2ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 2) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) AND ("users"."role" = 'technician') [0m
Completed in 27ms (View: 20, DB: 2) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#edit (for 127.0.0.1 at 2009-07-27 21:54:17) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 2) [0m
Rendering template within layouts/application
Rendering maintenances/edit
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.4ms)[0m   [0mSELECT * FROM "equipment" [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m
Rendered maintenances/_form (25.4ms)
Completed in 33ms (View: 26, DB: 1) | 200 OK [http://localhost/maintenances/2/edit]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-27 21:54:20) [GET]
  [4;35;1mMaintenance Load (0.7ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
  [4;35;1mEquipment Load (0.3ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 2) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) AND ("users"."role" = 'technician') [0m
Completed in 29ms (View: 22, DB: 2) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-27 21:54:22) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 2) [0m
Rendering template within layouts/application
Rendering maintenances/show
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 2) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) AND ("users"."role" = 'technician') [0m
Completed in 26ms (View: 18, DB: 1) | 200 OK [http://localhost/maintenances/2]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-27 21:54:23) [GET]
  [4;36;1mMaintenance Load (0.8ms)[0m   [0;1mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 2) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) AND ("users"."role" = 'technician') [0m
Completed in 29ms (View: 20, DB: 2) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#show (for 127.0.0.1 at 2009-07-27 21:54:25) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances"."id" = 1) [0m
Rendering template within layouts/application
Rendering maintenances/show
  [4;36;1mEquipment Load (0.2ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
Completed in 24ms (View: 17, DB: 1) | 200 OK [http://localhost/maintenances/1]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-27 21:54:27) [GET]
  [4;35;1mMaintenance Load (0.6ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;36;1mEquipment Load (0.2ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 2) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) AND ("users"."role" = 'technician') [0m
Completed in 26ms (View: 20, DB: 2) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#new (for 127.0.0.1 at 2009-07-27 21:54:34) [GET]
Rendering template within layouts/application
Rendering maintenances/new
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.5ms)[0m   [0mSELECT * FROM "equipment" [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m
Rendered maintenances/_form (26.8ms)
Completed in 35ms (View: 27, DB: 1) | 200 OK [http://localhost/maintenances/new]


Processing MaintenancesController#index (for 127.0.0.1 at 2009-07-27 21:54:38) [GET]
  [4;35;1mMaintenance Load (0.6ms)[0m   [0mSELECT * FROM "maintenances" [0m
Rendering template within layouts/application
Rendering maintenances/index
  [4;36;1mEquipment Load (0.2ms)[0m   [0;1mSELECT * FROM "equipment" WHERE ("equipment"."id" = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) AND ("users"."role" = 'technician') [0m
  [4;35;1mEquipment Load (0.2ms)[0m   [0mSELECT * FROM "equipment" WHERE ("equipment"."id" = 2) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 7) AND ("users"."role" = 'client') [0m
  [4;35;1mTechnician Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) AND ("users"."role" = 'technician') [0m
Completed in 27ms (View: 20, DB: 2) | 200 OK [http://localhost/maintenances]


Processing MaintenancesController#new (for 127.0.0.1 at 2009-07-27 21:57:17) [GET]
Rendering template within layouts/application
Rendering maintenances/new
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.5ms)[0m   [0mSELECT * FROM "equipment" [0m
  [4;36;1mTechnician Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."role" = 'technician') [0m
Rendered maintenances/_form (25.0ms)
Completed in 32ms (View: 25, DB: 1) | 200 OK [http://localhost/maintenances/new]


Processing UsersController#index (for 127.0.0.1 at 2009-07-27 22:06:29) [GET]
  [4;35;1mUser Load (77.4ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 92ms (View: 10, DB: 77) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 22:06:32) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;35;1mMaintenance Load (0.4ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 22:06:32')) AND ("maintenances".equipment_id = 1)) [0m
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 22:06:32')) AND ("maintenances".equipment_id = 1)) [0m
Completed in 118ms (View: 112, DB: 1) | 200 OK [http://localhost/users/5]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 22:07:38) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 22:07:38')) AND ("maintenances".equipment_id = 1)) [0m
  [4;36;1mMaintenance Load (0.2ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 22:07:38')) AND ("maintenances".equipment_id = 1)) [0m
Completed in 34ms (View: 28, DB: 1) | 200 OK [http://localhost/users/5]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 22:11:31) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 22:11:31')) AND ("maintenances".equipment_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 22:11:31')) AND ("maintenances".equipment_id = 1)) [0m
Completed in 31ms (View: 26, DB: 1) | 200 OK [http://localhost/users/5]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 22:11:43) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.4ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 22:11:43')) AND ("maintenances".equipment_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 22:11:43')) AND ("maintenances".equipment_id = 1)) [0m
Completed in 96ms (View: 91, DB: 1) | 200 OK [http://localhost/users/5]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 22:11:51) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;35;1mMaintenance Load (0.3ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 22:11:51')) AND ("maintenances".equipment_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 22:11:51')) AND ("maintenances".equipment_id = 1)) [0m
Completed in 32ms (View: 26, DB: 1) | 200 OK [http://localhost/users/5]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 22:13:00) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;35;1mEquipment Load (0.4ms)[0m   [0mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;36;1mMaintenance Load (0.3ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 22:13:00')) AND ("maintenances".equipment_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 22:13:00')) AND ("maintenances".equipment_id = 1)) [0m
Completed in 31ms (View: 26, DB: 1) | 200 OK [http://localhost/users/5]


Processing UsersController#show (for 127.0.0.1 at 2009-07-27 22:15:26) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/client
Rendering users/show
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) AND ("users"."role" = 'client') [0m
  [4;36;1mEquipment Load (0.3ms)[0m   [0;1mSELECT "equipment".* FROM "equipment" INNER JOIN "maintenances" ON "equipment".id = "maintenances".equipment_id WHERE (("maintenances".client_id = 5)) [0m
  [4;35;1mMaintenance Load (0.4ms)[0m   [0mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 22:15:26')) AND ("maintenances".equipment_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "maintenances" WHERE ("maintenances".equipment_id = 1) AND ((("maintenances"."completed" = 'f' AND "maintenances"."accepted" = 't') AND (scheduled_date_at < '2009-07-27 22:15:26')) AND ("maintenances".equipment_id = 1)) [0m
Completed in 95ms (View: 90, DB: 1) | 200 OK [http://localhost/users/5]
